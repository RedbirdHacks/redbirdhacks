/*!CK:1433536674!*//*1422256651,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["3rW4g"]); }

__d("BoostedActionType",[],function(a,b,c,d,e,f){e.exports={PAGELIKE:"pagelike",WEBSITE:"website"};},null);
__d("BoostedPagelikeRefs",[],function(a,b,c,d,e,f){e.exports={PAGES_MANAGER:"pages_manager",SPRING_BOARD_FLYOUT:"springboard_flyout",PAGETABLHS:"page_tab_lhs",CONTEXTUALDIALOG:"contextual_dialog",CREATE_PANEL_MILESTONE:"edit_panel_milestone",RHC:"RHC",SPLASH:"splash",PAGES_BROWSER:"pages_browser",EDIT_LINK:"edit_link",MENU:"menu_action",PAUSE_PANEL:"pause_panel",FEED:"feed_ad",CALLOUT:"callout",REFRESH_CALLOUT:"refresh_callout",PAGE_MENU:"page_menu",PAGE_NAX:"NAX2Wizard",FLUX:"flux",PAGE_COMPETITOR:"page_competitor_editor",PAGE_COMPETITOR_INSIGHTS_LEADERBOARD:"page_competitor_insights_leaderboard",BIZ:"facebookforbusiness",COMPLETE_PANEL:"complete_panel",ACTIVITY_TAB:"activity_tab",INSIGHTS_TAB:"insights_tab",ACTIVITY_TAB_BLANKSTATE:"activity_tab_blankstate",PAGES_MANANGER_COLLAPSE_LINK:"pages_manager_collapse_link",MSITE_ACTIVITY:"refresh_activity_tab",MSITE_PAGE:"refresh_page_tab",PAGES_MANAGER_CTAFLYOUT:"pages_manager_ctaflyout",PAGES_MANAGER_LIKEFLYOUT:"pages_manager_likeflyout",PAGES_MANAGER_ABOUT_SECTION:"pages_manager_about_section",PAGES_MANAGER_CREATE_AD:"pages_manager_create_ad",AYMT_HOMEPAGE_PANEL:"aymt_homepage_panel",AYMT_MEGAPHONE:"aymt_megaphone",AYMT_CONTEXT_ROW:"aymt_context_row",NAV_DROPDOWN:"page_nav_build_audience_dropdown",MBASIC_PROFILE_SUMMARY:"mbasic_profile_summary",MISSION:"mission",PAUSE_UPSELL:"pause_upsell",FEED_DROPDOWN:"feed_dropdown",MSITE_SOCIAL_CONTEXT:"msite_social_context",CONTEXTUAL_DIALOG:"contextual_dialog",CUSTOM_CTA_ADMIN_MENU:"custom_cta_admin_menu",MSITE_ADS_MANAGER:"m_ads_manager",PYMA_FEED:"PYMA_FEED",IMAGE_REJECT_PANEL:"image_reject_panel",CUSTOM_CTA_DROPDOWN:"custom_cta_dropdown",UNIFIED_UPSELL_PANEL:"unified_upsell_panel",ADD_WEBSITE_CONFIRMATION_DIALOG:"add_website_confirmation_dialog",PROMOTE_ACTION_BUTTON:"promote_action_button",CONTEXTUAL_ITEM:"contextual_item",PLAY_GROUND:"play_ground"};},null);
__d("CustomCallToActionConstants",[],function(a,b,c,d,e,f){e.exports={WEB_UNIT:"WEB_UNIT",IOS_UNIT:"IOS_UNIT",ANDROID_UNIT:"ANDROID_UNIT",WEB:"CUSTOM_CTA_PLATFORM_WEB",IOS:"CUSTOM_CTA_PLATFORM_IOS",ANDROID:"CUSTOM_CTA_PLATFORM_ANDROID",PRIMARY_LINK:"customCTAEditPrimaryLink",PRIMARY_LINK_TYPE:"customCTAEditPrimaryLinkType",FALLBACK_LINK_TYPE:"customCTAEditFallbackLinkType",FALLBACK_LINK:"customCTAEditFallbackLink",APP_ID:"appID",GK_BYPASS:"pages_custom_cta_bypass",GK_PID:"pages_custom_cta_pid",GK_UID:"pages_custom_cta_uid",GK_CONTEXTUAL_ROW_UID:"pages_custom_cta_contextual_row_uid",GK_CONTEXTUAL_ROW_ADMIN_UID:"pages_custom_cta_contextual_row_admin_uid",GK_FOLLOW_BUTTON_IN_LIKE_DROPDOWN:"pages_follow_button_in_like_dropdown",GK_SHOW_IN_SPRINGBOARD_UID:"pages_custom_cta_show_in_springboard_uid",GK_ADMIN_UID:"custom_cta_admin_uid",GK_PROMOTION_ADMIN_UID:"custom_cta_promotion_admin_uid",GK_CUSTOM_CTA_CALLOUT:"custom_cta_callout",QE_PID_BETA:"custom_cta_pid_beta",NECTAR_APP_NAME:"custom_cta",OPEN_APP_ID:1,OPEN_WEBSITE_ID:2};},null);
__d("CustomCallToActionLinkTypes",[],function(a,b,c,d,e,f){e.exports={NONE:"",APP_URL:"APP_URL",DESKTOP_URL:"DESKTOP_URL",MSITE_URL:"MSITE_URL",PACKAGE_NAME:"PACKAGE_NAME",STORE_ID:"STORE_ID"};},null);
__d("CustomCallToActionTypes",[],function(a,b,c,d,e,f){e.exports={NONE:"",BOOK_NOW:"BOOK_NOW",CONTACT_US:"CONTACT_US",OPEN_APP:"OPEN_APP",GO_TO_WEBSITE:"GO_TO_WEBSITE",INSTALL_APP:"INSTALL_APP",PLAY_NOW:"PLAY_NOW",SHOP_NOW:"SHOP_NOW",SIGN_UP:"SIGN_UP",WATCH_NOW:"WATCH_NOW"};},null);
__d("PageInsightsPostFields",[],function(a,b,c,d,e,f){e.exports={CAPTION:"caption",CREATION_TIME:"created_time",DESCRIPTION:"description",ID:"id",IDENTIFIER:"identifier",IS_HOT:"is_hot",LINK:"link",MESSAGE:"message",NAME:"name",PICTURE:"picture",PRIVACY:"privacy",PRIVACY_COUNTRIES:"privacy_countries",PRIVACY_DESCRIPTION:"privacy_description",PRIVACY_LOCALES:"privacy_locales",PRIVACY_POST_TARGETING:"privacy_post_targeting",PROPERTY:"properties",STATUS_TYPE:"status_type",STYLE:"style",TYPE:"type"};},null);
__d("SanityCheckNames",[],function(a,b,c,d,e,f){e.exports={PI_API_RESPONSE:"page_insights.api_responded_with_data",PI_REACH_GT_ENGMT:"page_insights.reach_greater_than_engagement"};},null);
__d("SanityCheckStatuses",[],function(a,b,c,d,e,f){e.exports={VALID:1,INVALID_CONFIG:2,CHECKTIME_FAILURE:3};},null);
__d("BoostedPagelikeConstants",[],function(a,b,c,d,e,f){var g={APPLICATION_ID:'317954918290638',ADMINPANEL:'admin_panel',CONTEXTUALDIALOG:'contextual_dialog',PAGESMANAGER:'pages_manager',SPRINGBOARDFLYOUT:'springboard_flyout',PAGETABLHS:'page_tab_lhs',DELETE:'inactive',PAUSE:'paused',ACTIVE:'active',EXPAND:'boosted_pagelike/expand',MUTATE:'boosted_pagelike/mutate',ACCOUNT_CHANGE:'boosted_pagelike/account_change',BUDGET_CHANGE:'boosted_pagelike/budget_change',STATUS_CHANGE:'boosted_pagelike/status_change',DURATION_CHANGE:'boosted_pagelike/duration_change',DATE_PICKER_VISIBILITY:'boosted_pagelike/date_picker_visibility',CURRENCY_CHANGE:'boosted_pagelike/currency_change',TARGETING_INIT:'boosted_pagelike/targeting_init',TARGETING_CHANGE:'boosted_pagelike/targeting_change',PANEL_STATUS_CHANGE:'boosted_pagelike/panel_status_change',PANEL_STATUS_CHANGE_FINISH:'boosted_pagelike/panel_status_change_finish',MENU_CF_REDIRECT:'boosted_pagelike/menu_cf_redirect',SHOW_TEXT_POLICY_WARNING:'boosted_pagelike/show_text_policy_warning',HIDE_TEXT_POLICY_WARNING:'boosted_pagelike/hide_text_policy_warning',GEO_TARGET_LEVELS:{CITY:'city',REGION:'region',COUNTRY:'country'},MAX_COUNTRY_COUNT:25,COUNTRY_COUNT_WARNING:10,KEYWORD_SUGGESTIONS_DISPLAY_LIMIT:5,KEYWORD_CATEGORY_RAW:0,KEYWORD_CATEGORY_WIKI:1,DIALOG_PADDING_TO_BOTTOM:180,BW_DIALOG_MAX_HEIGHT:531,DIALOG_MAX_HEIGHT:519,PAYLOAD_SOURCE_CLIENT:'client',PAYLOAD_SOURCE_SERVER:'server'},h={GK_EDIT_CREATIVE:'boosted_pagelike_edit_creative',GK_BOOSTED_WEBSITE_INTEGRITY_CHECK:'boosted_website_integrity_check'};Object.assign(g,h);e.exports=g;},null);
__d("CustomCTAConstants",["fbt","CustomCallToActionConstants","CustomCallToActionLinkTypes","CustomCallToActionTypes"],function(a,b,c,d,e,f,g,h,i,j){var k={NO_DIALOG:'CUSTOM_CTA_DIALOG_NONE',DELETE_DIALOG:'CUSTOM_CTA_DIALOG_DELETE',EDIT_DIALOG:'CUSTOM_CTA_DIALOG_EDIT',PROMOTE_DIALOG:'CUSTOM_CTA_DIALOG_PROMOTE',OPEN_APP_ID:1,OPEN_WEBSITE_ID:2,SHOW_FLYOUT:'SHOW_FLYOUT',CREATE_DIALOG_WIDTH:778,CREATE_DIALOG_HEIGHT:504,PREVIEW_WIDTH:436,PREVIEW_HEIGHT:416,SELECTOR_WIDTH:194,URI_TRUNCATE_LENGTH:30,CREATE_CTA_TYPE_OPTIONS:[j.BOOK_NOW,j.CONTACT_US,j.OPEN_APP,j.PLAY_NOW,j.SHOP_NOW,j.SIGN_UP,j.WATCH_NOW],PLATFORM_TYPE:'CUSTOM_CTA_PLATFORM_TYPE',WEB:h.WEB,IOS:h.IOS,ANDROID:h.ANDROID,APP_ID:h.APP_ID,FALLBACK_LINK_TYPE:h.FALLBACK_LINK_TYPE,FALLBACK_LINK:h.FALLBACK_LINK,PRIMARY_LINK:h.PRIMARY_LINK,PRIMARY_LINK_TYPE:h.PRIMARY_LINK_TYPE,EDIT_LINK_TYPE_OPTIONS:[i.APP_URL,i.DESKTOP_URL],FALLBACK_INSTALL_APP:'fallback_install_app',FALLBACK_GO_TO_WEBSITE:'fallback_go_to_website',API_URL:'https://graph.facebook.com/',INSIGHTS_LABEL:"See Insights...",EDIT_LABEL:"Edit Call-to-Action...",DELETE_LABEL:"Delete Call-to-Action",TEST_LABEL:"Go to link",PROMOTE_LABEL:"Promote",VIEW_PROMOTION_LABEL:"View Promotion",DELETE_DIALOG_TITLE:"Delete Call-to-Action Button",DELETE_DIALOG_MESSAGE:"Do you really want to delete the call-to-action button from your Facebook Page?",CREATE_LABEL:"Create Call-to-Action",CREATE_TOOLTIP:"Add a button to get people to take an action from your Page such as shop or sign up",PROMOTE_LABEL:"Promote",VIEW_PROMOTION_LABEL:"View Promotion",PROMOTION_CREATE_DIALOG_TITLE:"Promote Call-to-action",PROMOTION_EDIT_DIALOG_TITLE:"Edit Call-to-action Promotion",CREATE_DIALOG_TITLE:"Add Call-to-Action Button",CREATE_DIALOG_BODY_MESSAGE:"Add a button to your Page that takes people directly to your app or website.",CREATE_DIALOG_BODY_MESSAGE_IOS:"Choose where to send people when they tap the button on an iPhone or an iPad.",CREATE_DIALOG_APPLINK_MESSAGE_IOS:"Add the iOS a deep link URL for your app.",CREATE_DIALOG_APPLINK_MESSAGE_ANDROID:"Add the Android a deep link URL for your app.",CREATE_DIALOG_BACKUP_LINK_MESSAGE:"Enter where to send people who don't have the app installed. If left blank it will open the website entered in the previous screen.",CREATE_DIALOG_BODY_MESSAGE_ANDROID:"Choose where to send people when they tap the button on Android.",EDIT_SECTION_MESSAGE:"These are the destination website and app links we'll send people to after they click or tap your call-to-action button:",EDIT_SECTION_EXAMPLE:"For example, you may want to send someone using a mobile device to your app, or to your website if theyre on a desktop computer.",CREATE_DIALOG_PACKAGE_NAME_MESSAGE_ANDROID:"Add the package name of your app",EDIT_SECTION_APP_LINK_HELP_MESSAGE:"Have an app or mobile website that was not found?",CREATE_LOADING_MESSAGE:"Finding websites and apps connected to your Page...",CREATE_SELECT_CTA_LABEL:"Button Label",CREATE_INVALID_WEB_LINK:"Invalid link or URL",CREATE_INVALID_PACKAGE_NAME:"Invalid package name",CREATE_INVALID_APP_LINK:"Invalid app link",CREATE_IPHONE_DEEP_LINK_TEXT:"We will open the app selected above if installed",CREATE_ANDROID_DEEP_LINK_TEXT:"We will open the app selected above if installed",CREATE_INVALID_URL_LINK:"Invalid URL link",EDIT_CARD_WEB_TITLE:"Computer",EDIT_CARD_IOS_TITLE:"iPhone or other iOS device",EDIT_CARD_ANDROID_TITLE:"Android phone or tablet",EDIT_CARD_OTHER_M_TITLE:"Other smartphone",EDIT_LINK_TOOLTIP:"Make changes to this link address",WEB_LINK_INPUT_LABEL:"Website",WEB_LINK_INPUT_PLACEHOLDER:g._("Example: {url}",[g.param("url",'www.mywebsite.com')]),MOBILE_LINK_INPUT_LABEL:"Mobile Website",PACKAGE_NAME_LABEL:"Android Package Name",APP_LINK_INPUT_LABEL:"App Link",APP_LINK_INPUT_LABEL_TOOLTIP:"This is the link address people will go to after tapping or clicking on your call-to-action button",APP_LINK_INPUT_PLACEHOLDER:"Enter a link to your app",APP_DESTINATION_SELECTOR_LABEL:"Destination",APP_DESTINATION_SELECTOR_LABEL_TOOLTIP:"Choose the type of destination you want people to go to after tapping or clicking on your call-to-action button",FALLBACK_CTA_SELECTOR_LABEL:"Backup",FALLBACK_CTA_SELECTOR_LABEL_TOOLTIP:"Choose the type of destination you want people to go to after tapping or clicking on your call-to-action button if they haven't yet registered or installed your app",FALLBACK_LINK_INPUT_LABEL:"Backup URL",FALLBACK_LINK_INPUT_LABEL_TOOLTIP:"This is the link address people will go to after tapping or clicking on your call-to-action button if they haven't yet registered or installed your app",STORE_ID_LABEL:"Store ID",STORE_ID_TOOLTIP:"ID of app in Apple store or Google play store",GO_TO_WEBSITE_LABEL:"Go to Website",PACKAGE_NAME_LABEL:"Package Name",REVIEW_DESTINATION_LINKS_TITLE:"Review Button Destination Links",CREATE_CALL_TO_ACTION_WEBSITE:"Create a Call-To-Action Button",CREATE_CALL_TO_ACTION_IPHONE:"Choose a Destination For People Using iOS",CREATE_CALL_TO_ACTION_ANDROID:"Choose a Destination For People Using an Android",CREATE_CALL_TO_ACTION_IPAD:"Choose a Destination For People Using iPad",ACTION_SELECTOR_LABEL:"Choose a Button",OPTIONAL_LABEL:"Optional",IOS_SECTION_TITLE:"iOS Destination",ANDROID_SECTION_TITLE:"Android Destination",BACKUP_LINK_LABEL:"Backup Destination",DEEPLINK_LEARN_MORE_LABEL:"Learn how to set up a deep link",SELECTOR_OPTION_WEBSITE:"Website",SELECTOR_OPTION_APP:"App",LEGEND_KEY_ORGANIC:"Organic",LEGEND_KEY_PAID:"Paid",THIS_WEEK_CLICK_LABEL:"Clicks This Week"};e.exports=k;},null);
__d("CustomCTALogger",["Banzai"],function(a,b,c,d,e,f,g){var h={logVital:function(i){g.post('page_custom_cta_logger',i,g.VITAL);},log:function(i){g.post('page_custom_cta_logger',i);}};e.exports=h;},null);
__d("CustomCTAUtils",["fbt","invariant","AdsCallToActionTypes","CustomCallToActionLinkTypes","CustomCallToActionTypes","CustomCTAConstants","React","XUISelector.react"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=n.Option,p={executeCallToAction:function(q){window.open(q);},getFallbackSelectorOptions:function(){var q=[];q.push(m.createElement(o,{value:l.FALLBACK_GO_TO_WEBSITE},p.getFallbackLabel(l.FALLBACK_GO_TO_WEBSITE)));q.push(m.createElement(o,{value:l.FALLBACK_INSTALL_APP},p.getFallbackLabel(l.FALLBACK_INSTALL_APP)));return q;},getCallToActionSelectorOptions:function(q){var r=[];q.forEach(function(s){r.push(m.createElement(o,{value:s},p.getCallToActionLabel(s)));});return r;},getCallToActionLinkTypeSelectorOptions:function(q){var r=[];q.forEach(function(s){r.push(m.createElement(o,{value:s},p.getCallToActionLinkTypeLabel(s)));});return r;},getFallbackLabel:function(q){switch(q){case l.FALLBACK_INSTALL_APP:return ("Install Now");case l.FALLBACK_GO_TO_WEBSITE:return ("Go to Website");}},getCallToActionLabel:function(q){switch(q){case k.BOOK_NOW:return ("Book Now");case k.CONTACT_US:return ("Contact Us");case k.OPEN_APP:return ("Use App");case k.GO_TO_WEBSITE:return ("Go to Website");case k.INSTALL_APP:return ("Install App");case k.PLAY_NOW:return ("Play Game");case k.SHOP_NOW:return (g._(["Shop Now","04b50f7707b513daf1901751fd7f0464"]));case k.SIGN_UP:return (g._(["Sign Up","3cace2619fdd1bc2fb6a6d694155ef95"]));case k.WATCH_NOW:return ("Watch Video");default:h(q);}},getCallToActionMobileIcon:function(q){switch(q){case k.BOOK_NOW:return '/images/discovery/entity_card_actions/custom_cta/booknow.png';case k.CONTACT_US:return '/images/discovery/entity_card_actions/custom_cta/contactus.png';case k.OPEN_APP:return '/images/discovery/entity_card_actions/custom_cta/gotoapp.png';case k.PLAY_NOW:return '/images/discovery/entity_card_actions/custom_cta/playnow.png';case k.SHOP_NOW:return '/images/discovery/entity_card_actions/custom_cta/shopnow.png';case k.SIGN_UP:return '/images/discovery/entity_card_actions/custom_cta/signup.png';case k.WATCH_NOW:return '/images/discovery/entity_card_actions/custom_cta/watchnow.png';default:h(q);}},getCallToActionIcon:function(q){switch(q){case k.BOOK_NOW:return '/images/pages/custom_cta/booknow.png';case k.CONTACT_US:return '/images/pages/custom_cta/contactus.png';case k.OPEN_APP:return '/images/pages/custom_cta/openapp.png';case k.PLAY_NOW:return '/images/pages/custom_cta/playnow.png';case k.SHOP_NOW:return '/images/pages/custom_cta/shopnow.png';case k.SIGN_UP:return '/images/pages/custom_cta/signup.png';case k.WATCH_NOW:return '/images/pages/custom_cta/watchnow.png';default:h(q);}},getCallToActionLinkTypeLabel:function(q){switch(q){case j.APP_URL:case j.PACKAGE_NAME:return ("App");case j.DESKTOP_URL:case j.MSITE_URL:return ("Website");default:h(q);}},getTruncatedURI:function(q){if(!q||q.length<l.URI_TRUNCATE_LENGTH)return q;return q.substr(0,l.URI_TRUNCATE_LENGTH)+'...';},getAdsCallToActionType:function(q){switch(q){case k.BOOK_NOW:return i.TYPES.BOOK_TRAVEL.name;case k.OPEN_APP:return i.TYPES.USE_APP.name;case k.PLAY_NOW:return i.TYPES.PLAY_GAME.name;case k.SHOP_NOW:return i.TYPES.SHOP_NOW.name;case k.SIGN_UP:return i.TYPES.SIGN_UP.name;case k.WATCH_NOW:return i.TYPES.WATCH_VIDEO.name;default:return '';}}};e.exports=p;},null);
__d("CctaDispatcher",["Dispatcher","copyProperties"],function(a,b,c,d,e,f,g,h){'use strict';var i=[],j=h(new g(),{cctaDispatch:function(k){this.dispatch(k);var l=i;i=[];l.forEach(function(m){m();});i.length=0;},addPostDispatchCallback:function(k){if(this.isDispatching()){i.push(k);}else k();}});e.exports=j;},null);
__d("StoreBasedStateMixinHelper",["SubscriptionsHandler","invariant"],function(a,b,c,d,e,f,g,h){'use strict';function i(j){h(j.length>0);this.$StoreBasedStateMixinHelper0=j;this.$StoreBasedStateMixinHelper1=new g();}i.prototype.subscribeCallback=function(j){var k=this.$StoreBasedStateMixinHelper0.map(function(l){if(l.subscribe){return l.subscribe('change',j);}else if(l.addListener){return l.addListener('change',j);}else h(false);});this.$StoreBasedStateMixinHelper1.addSubscriptions.apply(this.$StoreBasedStateMixinHelper1,k);};i.prototype.release=function(){this.$StoreBasedStateMixinHelper1.release();};e.exports=i;},null);
__d("StoreAndPropBasedStateMixin",["StoreBasedStateMixinHelper","invariant","setImmediate"],function(a,b,c,d,e,f,g,h,i){'use strict';var j=function(){for(var k=[],l=0,m=arguments.length;l<m;l++)k.push(arguments[l]);return {getInitialState:function(){return this.constructor.calculateState(this.props);},componentWillMount:function(){h(this.constructor.calculateState);this._recalculateStateID=null;var n=function(){if(this.isMounted())this.setState(this.constructor.calculateState(this.props));this._recalculateStateID=null;}.bind(this);this._mixin=new g(k);this._mixin.subscribeCallback(function(){if(this._recalculateStateID===null)this._recalculateStateID=i(n);}.bind(this));},componentWillReceiveProps:function(n){this.setState(this.constructor.calculateState(n));},componentWillUnmount:function(){this._mixin.release();this._mixin=null;}};}.bind(this);e.exports=j;},null);
__d("validateDeepLink",["AdsCreationConfig","URIRFC3986","arrayContains","trim"],function(a,b,c,d,e,f,g,h,i,j){'use strict';var k=g.deepLinkBlacklist.map(function(m){return new RegExp(j(m,'/'));});function l(m){m=m.toLowerCase();var n=m.indexOf('://');if(n===-1)return false;var o=m.slice(0,n);if(o&&o.contains('.')){if(!/^[a-z0-9][a-z0-9+-.]*$/.test(o))return false;}else{var p=h.parse(m);if(!p.scheme||!/^([a-z][a-z0-9+-.]*):/i.test(m))return false;}if(i(['http','https'],o))return true;var q=k.some(function(r){return r.test(m);});return !q;}e.exports=l;},null);
__d("XCctaCreateController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("\/ccta\/create\/",{});},null);
__d("CctaStore",["copyProperties","ads-lib-urllib","AsyncRequest","Arbiter","CustomCTAAppConfig","CustomCTAConstants","CustomCallToActionTypes","CctaDispatcher","ImmutableObject","validateDeepLink","URI","XCctaCreateController","XHRRequest"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';var t={},u={},v=1,w=false,x={androidDeepLinkError:null,androidPackageNameError:null,androidUriError:null,iphoneDeepLinkError:null,iphoneUriError:null,mobileUriError:null,webUriError:null},y=false,z=false,aa=null,ba={showingDialog:{},showingFinishDialog:{}},ca={ctaFocusWebUri:{},ctaFocusMsite:{},iphoneFocusDeepLink:{},iphoneFocusURI:{},androidFocusPackageName:{},androidFocusDeepLink:{},androidFocusURI:{}},da=function(){v=1;},ea=function(){x={};},fa=function(){t={};},ga=function(ua){var va=h.normalize(ua);return h.isUrl(va);},ha=function(){if(!(t.androidPackageName)){x.androidPackageNameError=l.CREATE_INVALID_PACKAGE_NAME;return false;}var ua=t.androidPackageName.split(".");if(ua.length<=1)return false;for(var va=0;va<ua.length;va++)if(!(ua[va].trim()))return false;return true;},ia=function(ua){var va=ua.trim();return (((va.length>7&&va.substr(0,7)==="http://")||(va.length>8&&va.substr(0,8)==="https://")));},ja=function(ua){var va=ua.indexOf("://"),wa=ua.substr(0,va);if(wa.indexOf(":")>-1||wa.indexOf(";")>-1||wa.indexOf(",")>-1||wa.indexOf("/")>-1)return false;return true;},ka=function(){if(!(t.iphoneDeepLink)){x.iphoneDeepLinkError=l.CREATE_INVALID_APP_LINK;return false;}if(ia(t.iphoneDeepLink)){x.iphoneDeepLinkError=l.CREATE_INVALID_APP_LINK;return false;}if(!p(t.iphoneDeepLink)){x.iphoneDeepLinkError=l.CREATE_INVALID_APP_LINK;return false;}if(!ja(t.iphoneDeepLink)){x.iphoneDeepLinkError=l.CREATE_INVALID_APP_LINK;return false;}return true;},la=function(){if(!(t.androidDeepLink))return true;if(ia(t.androidDeepLink))return false;if(!p(t.androidDeepLink))return false;if(!ja(t.androidDeepLink))return false;return true;},ma=function(){if(!(t.mobileURI))return true;return ga(t.mobileURI);},na=function(){if(!(t.webURI)){x.webUriError=l.CREATE_INVALID_WEB_LINK;return false;}if(!ga(t.webURI)){x.webUriError=l.CREATE_INVALID_WEB_LINK;return false;}return true;},oa=function(){if(!(t.iphoneURI))return true;if(ga(t.iphoneURI)){return true;}else{x.iphoneUriError=l.CREATE_INVALID_WEB_LINK;return false;}},pa=function(){if(!(t.androidURI)){if(t.androidFBAppID===l.OPEN_WEBSITE_ID){x.androidUriError=l.CREATE_INVALID_WEB_LINK;return false;}return true;}return ga(t.androidURI);},qa=function(ua,va){if(ua&&ua.url){t.iphoneFBAppID=l.OPEN_APP_ID;t.iphoneDeepLink=ua.url;}else t.iphoneFBAppID=l.OPEN_WEBSITE_ID;if(va&&va.url&&va["package"]){t.androidFBAppID=l.OPEN_APP_ID;t.androidDeepLink=va.url;t.androidPackageName=va["package"];}else t.androidFBAppID=l.OPEN_WEBSITE_ID;n.addPostDispatchCallback(function(){n.cctaDispatch({actionType:'clear-loading'});});},ra=function(){z=true;var ua=new q(l.API_URL);ua.addQueryData({access_token:k.access_token,ids:t.webURI,type:'al'});aa=new s(ua);aa.setErrorHandler(function(va){n.addPostDispatchCallback(function(){n.cctaDispatch({actionType:'clear-loading'});});}.bind(this)).setResponseHandler(function(va){var wa=JSON.parse(va)[t.webURI],xa=(wa.ios)?wa.ios.pop():null,ya=(wa.android)?wa.android.pop():null;qa(xa,ya);}.bind(this)).setMethod('GET').send();}.bind(this),sa=function(){if(v===1){var ua=na(),va=ma();if(ua&&va){return true;}else if(!ua){ca.ctaFocusWebUri[t.pageID]=true;}else ca.ctaFocusMsite[t.pageID]=true;}else if(v===2){if(t.iphoneFBAppID===l.OPEN_WEBSITE_ID){if(oa())return true;}else if(t.iphoneFBAppID===l.OPEN_APP_ID){var wa=oa(),xa=ka();if(wa&&xa){return true;}else if(!xa){ca.iphoneFocusDeepLink[t.pageID]=true;}else ca.iphoneFocusURI[t.pageID]=true;}else if(oa())return true;}else if(v===3)if(t.androidFBAppID===l.OPEN_WEBSITE_ID){if(pa())return true;}else if(t.androidFBAppID===l.OPEN_APP_ID){var ya=pa(),za=ha(),ab=la();if(ya&&ab&&za){return true;}else if(!za){ca.androidFocusPackageName[t.pageID]=true;}else if(!ab){ca.androidFocusDeepLink[t.pageID]=true;}else ca.androidFocusURI[t.pageID]=true;}else if(pa()&&ha())return true;return false;},ta=g(new j(),{getError:function(ua){if(ua in x)return x[ua];return null;},getFocused:function(ua,va){if(va in ca&&ua in ca[va])return ca[va][ua];return false;},getUi:function(ua,va){if(va in ba&&ua in ba[va])return ba[va][ua];return false;},getIsLoading:function(){return z;},getConfirmationDialog:function(){return y;},getData:function(){return new o(t);},getDataCopy:function(){t.page_id=t.pageID;return t;},getApps:function(){return new o(u);},getStep:function(){return v;},getPageID:function(){return t.pageID;},hasCCTAID:function(){return w;},getIphoneApp:function(){return 'iphoneFBAppID' in t?t.iphoneFBAppID:l.OPEN_WEBSITE_ID;},getAndroidApp:function(){return 'androidFBAppID' in t?t.androidFBAppID:2;},getIphoneAndroidWebsite:function(){if('mobileURI' in t){return t.mobileURI;}else return t.weburl;},getIphoneBackup:function(){if('iphoneAppStoreUrl' in t){return t.iphoneAppStoreUrl;}else return t.weburl;},getAndroidBackup:function(){if('iphoneAppStoreUrl' in t){return t.iphoneAppStoreUrl;}else return t.weburl;},isInitialized:function(){var ua=o.values(this.getData()).length;return ua>0;},saveDataToServer:function(){if(t.webURI)t.webURI=h.normalize(t.webURI);if(t.mobileURI)t.mobileURI=h.normalize(t.mobileURI);if(t.iphoneURI)t.iphoneURI=h.normalize(t.iphoneURI);if(t.androidURI)t.androidURI=h.normalize(t.androidURI);new i().setURI(r.getURIBuilder().getURI()).setData({payload_json:JSON.stringify(t)}).setHandler(function(ua){if(ua.payload)n.dispatch({actionType:'saved-to-server',data:ua.payload});}.bind(this)).send();},dispatchToken:n.register(function(ua){var va=true;switch(ua.actionType){case 'saved-to-server':ba.showingDialog[ua.data.payload.pageID]=false;if(!('cctaID' in t))ba.showingFinishDialog[ua.data.payload.pageID]=true;t=ua.data.payload;da();ea();break;case 'deleted-to-server':ba.showingDialog[ua.data.payload.pageID]=false;t=ua.data.payload;da();ea();break;case 'update-from-server':da();ea();fa();z=false;g(t,ua.data);w=ua.data.hasCctaId;if(!t.ctaType)t.ctaType=m.SHOP_NOW;break;case 'get-apps-from-server':u=ua.data;break;case 'update-cta-type':t.ctaType=ua.data;break;case 'update-weburl':t.webURI=ua.data;break;case 'check-weburl':if(na()){x.webUriError=null;}else x.webUriError=l.CREATE_INVALID_WEB_LINK;break;case 'update-msite':t.mobileURI=ua.data;break;case 'check-msite':if(ma()){x.mobileUriError=null;}else x.mobileUriError=l.CREATE_INVALID_WEB_LINK;break;case 'update-iphone-appselection':t.iphoneFBAppID=ua.data;break;case 'update-iphone-url':t.iphoneURI=ua.data;break;case 'check-iphone-url':if(oa()){x.iphoneUriError=null;}else x.iphoneUriError=l.CREATE_INVALID_WEB_LINK;break;case 'update-iphone-deeplink':t.iphoneDeepLink=ua.data;break;case 'check-iphone-deeplink':if(ka()){x.iphoneDeepLinkError=null;}else x.iphoneDeepLinkError=l.CREATE_INVALID_APP_LINK;break;case 'update-iphone-appstore-url':t.iphoneAppStoreUrl=ua.data;break;case 'update-android-appselection':t.androidFBAppID=ua.data;if(t.androidFBAppID in u){t.androidPackageName=u[t.androidFBAppID].androidStoreID;}else t.androidPackageName="";break;case 'update-android-url':t.androidURI=ua.data;x.androidUriError=null;break;case 'check-android-url':if(pa()){x.androidUriError=null;}else x.androidUriError=l.CREATE_INVALID_WEB_LINK;break;case 'update-android-deeplink':t.androidDeepLink=ua.data;x.androidDeepLinkError=null;break;case 'check-android-deeplink':if(la()){x.androidDeepLinkError=null;}else x.androidDeepLinkError=l.CREATE_INVALID_WEB_LINK;break;case 'update-android-package-name':t.androidPackageName=ua.data;x.androidPackageNameError=null;break;case 'check-android-package-name':if(ha()){x.androidPackageNameError=null;}else x.androidPackageNameError=l.CREATE_INVALID_PACKAGE_NAME;break;case 'update-android-appstore_url':t.androidAppStoreUrl=ua.data;break;case 'update-ipad-appselection':t.ipadAppSelection=ua.data;break;case 'update-ipad-deeplink':t.ipadDeepLink=ua.data;break;case 'update-ipad-appstore-url':t.ipadAppStoreUrl=ua.data;break;case 'update-showing-dialog':ba.showingDialog[ua.data]=!ba.showingDialog[ua.data];if(!ba.showingDialog[ua.data]){da();ea();z=false;if(aa){aa.abort();aa=null;}}break;case 'update-showing-finish-dialog':ba.showingFinishDialog[ua.data]=!ba.showingFinishDialog[ua.data];break;case 'show-confirmation-dialog':ba.showingFinishDialog[ua.data]=!ba.showingFinishDialog[ua.data];y=!y;break;case 'delete-confirmation-dialog':y=!y;w=true;break;case 'clear-focused':ca={ctaFocusWebUri:{},ctaFocusMsite:{},iphoneFocusDeepLink:{},iphoneFocusURI:{},androidFocusPackageName:{},androidFocusDeepLink:{},androidFocusURI:{}};break;case 'clear-loading':z=!z;break;case 'decrease-step':if(v>1)v=v-1;break;case 'increase-step':if(sa())if(v===3){ta.saveDataToServer();}else{if(v===1)if(!t.cctaID){ra();t.iphoneURI=t.mobileURI||t.webURI;if(!t.iphoneFBAppID)t.iphoneFBAppID=l.OPEN_WEBSITE_ID;t.androidURI=t.mobileURI||t.webURI;if(!t.androidFBAppID)t.androidFBAppID=l.OPEN_WEBSITE_ID;}v=v+1;}break;}if(va)ta.inform('change');})});e.exports=ta;},null);
__d("CctaDialogBodyAndroid.react",["cx","fbt","ix","CustomCTAConstants","CustomCTALogger","CustomCTAUtils","CctaDispatcher","Keys","Image.react","LeftRight.react","Link.react","PagesEventType","StoreAndPropBasedStateMixin","React","ReactComponentWithPureRenderMixin","CctaStore","XUISelector.react","XUITextInput.react"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){'use strict';var y=w.Option,z="example://launch?location=123456",aa="https://play.google.com/store/apps/det...",ba="com.example.myapp",ca=16,da=t.createClass({displayName:"CctaDialogBodyAndroid",mixins:[s(v),u],propTypes:{},statics:{calculateState:function(){return {androidDeepLinkError:v.getError('androidDeepLinkError'),androidPackageNameError:v.getError('androidPackageNameError'),androidUriError:v.getError('androidUriError'),apps:v.getApps(),data:v.getData(),focusPackageName:v.getFocused(v.getPageID(),'androidFocusPackageName'),focusDeepLink:v.getFocused(v.getPageID(),'androidFocusDeepLink'),focusUri:v.getFocused(v.getPageID(),'androidFocusURI')};}},componentDidUpdate:function(){if(this.state.focusPackageName){this.refs["package"].focusInput();m.addPostDispatchCallback(function(){m.dispatch({actionType:'clear-focused'});});}else if(this.state.focusDeepLink){this.refs.androiddeeplink.focusInput();m.addPostDispatchCallback(function(){m.dispatch({actionType:'clear-focused'});});}else if(this.state.focusUri){this.refs.backup.focusInput();m.addPostDispatchCallback(function(){m.dispatch({actionType:'clear-focused'});});}},_appsDropdown:function(){var ea=[];Object.keys(this.state.apps).forEach(function(fa){if(this.state.apps[fa].androidUrls.length===0)return;ea.push(t.createElement(y,{icon:t.createElement(o,{src:this.state.apps[fa].logoSrc,height:ca,width:ca}),key:this.state.apps[fa].id,value:this.state.apps[fa].id},this.state.apps[fa].name));}.bind(this));return (t.createElement(w,{name:"selector",onChange:this._handleAppSelect,value:this._getSelectedApp()},t.createElement(y,{key:j.OPEN_WEBSITE_ID,value:j.OPEN_WEBSITE_ID},j.SELECTOR_OPTION_WEBSITE),t.createElement(y,{key:j.OPEN_APP_ID,value:j.OPEN_APP_ID},j.SELECTOR_OPTION_APP),ea));},_getAndroidLaunchPackageName:function(){var ea=this._getSelectedApp();if(ea===j.OPEN_WEBSITE_ID)return '';if(ea in this.state.apps)return this.state.apps[ea].androidStoreID;return this.state.androidPackageName;},_getAndroidLaunchUrl:function(){if(this._getSelectedApp()===j.OPEN_WEBSITE_ID)return '';var ea=this._getSelectedApp();if(!(ea in this.state.apps))return '';var fa=this.state.apps[ea];if(!fa.androidUrls.length)return '';return fa.androidUrls[0];},_getAndroidStoreUrl:function(){if(this._getSelectedApp()===j.OPEN_WEBSITE_ID)return "";var ea=this._getSelectedApp();if(!(ea in this.state.apps))return "";var fa=this.state.apps[ea];return fa.androidStoreUrl;},_handleAppSelect:function(ea){var fa=v.getDataCopy();fa.androidDestinationType=ea.value;fa.event_type=r.CUSTOM_CTA_CHANGE_ANDROID_DESTINATION_TYPE;k.log(fa);m.dispatch({actionType:'update-android-appselection',data:ea.value});},_getSelectedApp:function(){var ea='androidFBAppID' in this.state.data?this.state.data.androidFBAppID:j.OPEN_WEBSITE_ID;return ea;},_changeUserDeepLink:function(event){var ea=v.getDataCopy();ea.event_type=r.CUSTOM_CTA_CHANGE_ANDROID_DEEPLINK;k.log(ea);m.dispatch({actionType:'update-android-deeplink',data:event.target.value});},_deepLinkSection:function(){return (t.createElement(x,{className:"_w0a",value:this.state.data.androidDeepLink,xuiError:this.state.androidDeepLinkError,placeholder:h._("Example: {number of days}",[h.param("number of days",z)]),onChange:this._changeUserDeepLink}));},_changePackageName:function(event){var ea=v.getDataCopy();ea.event_type=r.CUSTOM_CTA_CHANGE_ANDROID_PACKAGE_NAME;k.log(ea);m.addPostDispatchCallback(function(){m.dispatch({actionType:'update-android-package-name',data:event.target.value});});},_checkAndroidDeepLink:function(){m.addPostDispatchCallback(function(){m.dispatch({actionType:'check-android-deeplink'});});},_androidDeepLinkOnKeyDown:function(ea){if(ea.keyCode===n.RETURN){ea.preventDefault();m.addPostDispatchCallback(function(){m.dispatch({actionType:'check-android-deeplink'});});if(!v.getError('androidDeepLinkError'))this.refs["package"].focusInput();}},_checkPackageName:function(){m.addPostDispatchCallback(function(){m.dispatch({actionType:'check-android-package-name'});});},_PackageNameOnKeyDown:function(ea){if(ea.keyCode===n.RETURN){ea.preventDefault();m.addPostDispatchCallback(function(){m.dispatch({actionType:'check-android-package-name'});});if(!v.getError('androidPackageNameError'))this.refs.backup.focusInput();}},_checkAndroidUri:function(){m.addPostDispatchCallback(function(){m.dispatch({actionType:'check-android-url'});});},_androidUriOnKeyDown:function(ea){if(ea.keyCode===n.RETURN){ea.preventDefault();this._checkAndroidUri();}},_getPackageNameSection:function(){return (t.createElement("div",null,t.createElement("div",{className:"_qr4"},j.PACKAGE_NAME_LABEL),t.createElement("div",{className:"_qr6"},j.CREATE_DIALOG_PACKAGE_NAME_MESSAGE_ANDROID),t.createElement(x,{className:"_qr5",editable:false,onBlur:this._checkPackageName,onChange:this._changePackageName,onKeyDown:this._PackageNameOnKeyDown,ref:"package",placeholder:h._("Example: {number of days}",[h.param("number of days",ba)]),value:this.state.data.androidPackageName,xuiError:this.state.androidPackageNameError})));},_getDeepLinkSection:function(){var ea=null;if(v.getAndroidApp()===j.OPEN_APP_ID){ea=t.createElement("div",null,t.createElement("div",{className:"_qr4"},j.APP_LINK_INPUT_LABEL),t.createElement("div",{className:"_qr6"},j.CREATE_DIALOG_APPLINK_MESSAGE_ANDROID,' ',t.createElement(q,{target:"_blank",href:"https://developers.facebook.com/docs/applinks/android"},j.DEEPLINK_LEARN_MORE_LABEL)),t.createElement(x,{className:"_qr5",disabled:this._getAndroidLaunchUrl()?true:false,value:this._getAndroidLaunchUrl()||this.state.data.androidDeepLink,xuiError:this.state.androidDeepLinkError,onBlur:this._checkAndroidDeepLink,onChange:this._changeUserDeepLink,onKeyDown:this._androidDeepLinkOnKeyDown,placeholder:h._("Example: {number of days}",[h.param("number of days",z)]),ref:"androiddeeplink"}));}else ea=t.createElement("div",null,t.createElement("div",{className:"_qr4"},j.APP_LINK_INPUT_LABEL),t.createElement("div",{className:"_qr5"},j.CREATE_ANDROID_DEEP_LINK_TEXT));return ea;},_handleAndroidUrl:function(event){var ea=v.getDataCopy();ea.event_type=r.CUSTOM_CTA_CHANGE_ANDROID_LINK;k.log(ea);m.dispatch({actionType:'update-android-url',data:event.target.value});},_getBackupSection:function(){return (t.createElement("div",null,t.createElement("div",{className:"_qr4"},j.BACKUP_LINK_LABEL),t.createElement("div",{className:"_qr6"},j.CREATE_DIALOG_BACKUP_LINK_MESSAGE),t.createElement(x,{className:"_qr5",onBlur:this._checkAndroidUri,onChange:this._handleAndroidUrl,onKeyDown:this._androidUriOnKeyDown,ref:"backup",placeholder:h._("Example: {number of days}",[h.param("number of days",aa)]),value:this.state.data.androidURI,xuiError:this.state.androidUriError})));},render:function(){var ea=null;if(v.getAndroidApp()!==j.OPEN_WEBSITE_ID){ea=(t.createElement("div",null,this._getDeepLinkSection(),this._getPackageNameSection(),this._getBackupSection()));}else{var fa=v.getData();ea=(t.createElement("div",{className:"_3cgs"},h._("Your button will send people to {url} when they are using Android.",[h.param("url",l.getTruncatedURI(fa.mobileURI||fa.webURI))])));}return (t.createElement(p,{className:"_qr7 _nul"},t.createElement("div",{className:"_qr8"},t.createElement(o,{src:i('/images/pages/custom_cta/android-preview.png'),height:j.PREVIEW_HEIGHT,width:j.PREVIEW_WIDTH}),t.createElement("div",{className:"_5l9k"},t.createElement(o,{className:"_5l9l",src:l.getCallToActionMobileIcon(this.state.data.ctaType)}),l.getCallToActionLabel(this.state.data.ctaType))),t.createElement("div",{className:"_qr9"},t.createElement("div",{className:"_qr4"},j.ANDROID_SECTION_TITLE),t.createElement("div",{className:"_qr6"},j.CREATE_DIALOG_BODY_MESSAGE_ANDROID),t.createElement("div",{className:"_qra"},this._appsDropdown()),ea)));}});e.exports=da;},null);
__d("CctaDialogBodyIphone.react",["cx","fbt","ix","CustomCTAConstants","CustomCTALogger","CustomCTAUtils","CctaDispatcher","Image.react","Keys","LeftRight.react","Link.react","PagesEventType","React","CctaStore","StoreAndPropBasedStateMixin","XUISelector.react","XUITextInput.react"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){'use strict';var x=v.Option,y="https://itunes.apple.com/us/app/facebook-messenger/id454638411",z="example://location/123456",aa=16,ba=s.createClass({displayName:"CctaDialogBodyIphone",mixins:[u(t)],propTypes:{},statics:{calculateState:function(){return {apps:t.getApps(),data:t.getData(),iphoneDeepLinkError:t.getError('iphoneDeepLinkError'),iphoneUriError:t.getError('iphoneUriError'),focusDeepLink:t.getFocused(t.getPageID(),'iphoneFocusDeepLink'),focusUri:t.getFocused(t.getPageID(),'iphoneFocusURI')};}},componentDidUpdate:function(){if(this.state.focusDeepLink){this.refs.iphonedeeplink.focusInput();m.addPostDispatchCallback(function(){m.dispatch({actionType:'clear-focused'});});}else if(this.state.focusUri){this.refs.backup.focusInput();m.addPostDispatchCallback(function(){m.dispatch({actionType:'clear-focused'});});}return;},_appsDropdown:function(){var ca=[];Object.keys(this.state.apps).forEach(function(da){if(this.state.apps[da].iphoneUrls.length===0)return;ca.push(s.createElement(x,{value:this.state.apps[da].id,key:this.state.apps[da].id,icon:s.createElement(n,{src:this.state.apps[da].logoSrc,height:aa,width:aa})},this.state.apps[da].name));}.bind(this));return (s.createElement(v,{name:"selector",onChange:this._handleAppSelect,value:this._getSelectedApp()},s.createElement(x,{key:j.OPEN_WEBSITE_ID,value:j.OPEN_WEBSITE_ID},j.SELECTOR_OPTION_WEBSITE),s.createElement(x,{key:j.OPEN_APP_ID,value:j.OPEN_APP_ID},j.SELECTOR_OPTION_APP),ca));},_getIphoneLaunchUrl:function(){if(this._getSelectedApp()===j.OPEN_WEBSITE_ID)return '';var ca=this._getSelectedApp();if(!(ca in this.state.apps))return '';var da=this.state.apps[ca];if(!da.iphoneUrls.length)return '';return da.iphoneUrls[0];},_getIphoneStoreUrl:function(){if(this._getSelectedApp()===j.OPEN_WEBSITE_ID)return "";var ca=this._getSelectedApp();if(!(ca in this.state.apps))return "";var da=this.state.apps[ca];return da.iphoneStoreUrl;},_handleAppSelect:function(ca){var da=t.getDataCopy();da.iphoneDestinationType=ca.value;da.event_type=r.CUSTOM_CTA_CHANGE_IPHONE_DESTINATION_TYPE;k.log(da);m.dispatch({actionType:'update-iphone-appselection',data:ca.value});},_getSelectedApp:function(){var ca='iphoneFBAppID' in this.state.data?this.state.data.iphoneFBAppID:j.OPEN_WEBSITE_ID;return ca;},_changeUserDeepLink:function(event){var ca=t.getDataCopy();ca.event_type=r.CUSTOM_CTA_CHANGE_IPHONE_DEEPLINK;k.log(ca);m.dispatch({actionType:'update-iphone-deeplink',data:event.target.value});},_checkIphoneDeepLink:function(){m.addPostDispatchCallback(function(){m.dispatch({actionType:'check-iphone-deeplink'});});},_iphoneDeepLinkOnKeyDown:function(ca){if(ca.keyCode===o.RETURN){ca.preventDefault();m.addPostDispatchCallback(function(){m.dispatch({actionType:'check-iphone-deeplink'});});if(!t.getError('iphoneDeepLinkError'))this.refs.backup.focusInput();}},_checkIphoneUri:function(){m.addPostDispatchCallback(function(){m.dispatch({actionType:'check-iphone-url'});});},_iphoneUriOnKeyDown:function(ca){if(ca.keyCode===o.RETURN){ca.preventDefault();this._checkIphoneUri();}},_getDeepLinkSection:function(){var ca=null;if(this._getSelectedApp()===j.OPEN_APP_ID){ca=s.createElement("div",null,s.createElement("div",{className:"_qr4"},j.APP_LINK_INPUT_LABEL),s.createElement("div",{className:"_qr6"},j.CREATE_DIALOG_APPLINK_MESSAGE_IOS,' ',s.createElement(q,{target:"_blank",href:"https://developers.facebook.com/docs/applinks/ios"},j.DEEPLINK_LEARN_MORE_LABEL)),s.createElement(w,{className:"_qr5",disabled:this._getIphoneLaunchUrl()?true:false,onBlur:this._checkIphoneDeepLink,onChange:this._changeUserDeepLink,onKeyDown:this._iphoneDeepLinkOnKeyDown,placeholder:h._("Example: {number of days}",[h.param("number of days",z)]),ref:"iphonedeeplink",value:this.state.data.iphoneDeepLink,xuiError:this.state.iphoneDeepLinkError}));}else ca=s.createElement("div",null,s.createElement("div",{className:"_qr4"},j.APP_LINK_INPUT_LABEL),s.createElement("div",{className:"_qr5"},j.CREATE_IPHONE_DEEP_LINK_TEXT));return ca;},_handleIphoneUrl:function(event){var ca=t.getDataCopy();ca.event_type=r.CUSTOM_CTA_CHANGE_IPHONE_LINK;k.log(ca);m.dispatch({actionType:'update-iphone-url',data:event.target.value});},_getBackupSection:function(){return (s.createElement("div",null,s.createElement("div",{className:"_qr4"},j.BACKUP_LINK_LABEL),s.createElement("div",{className:"_qr6"},j.CREATE_DIALOG_BACKUP_LINK_MESSAGE),s.createElement(w,{className:"_qr5",onBlur:this._checkIphoneUri,onChange:this._handleIphoneUrl,onKeyDown:this._iphoneUriOnKeyDown,placeholder:h._("Example: {number of days}",[h.param("number of days",y)]),ref:"backup",value:this.state.data.iphoneURI,xuiError:this.state.iphoneUriError})));},render:function(){var ca=null;if(this._getSelectedApp()!==j.OPEN_WEBSITE_ID){ca=(s.createElement("div",null,this._getDeepLinkSection(),this._getBackupSection()));}else{var da=t.getData();ca=(s.createElement("div",{className:"_3cgs"},h._("Your button will send people to {url} when they are using iPhone or iPad.",[h.param("url",l.getTruncatedURI(da.mobileURI||da.webURI))])));}return (s.createElement(p,{className:"_qr7"},s.createElement("div",{className:"_qr8"},s.createElement(n,{alt:"sad",src:i('/images/pages/custom_cta/iphone-preview.png'),height:j.PREVIEW_HEIGHT,width:j.PREVIEW_WIDTH}),s.createElement("div",{className:"_1399"},s.createElement(n,{className:"_139a",src:l.getCallToActionMobileIcon(this.state.data.ctaType)}),l.getCallToActionLabel(this.state.data.ctaType))),s.createElement("div",{className:"_qr9"},s.createElement("div",{className:"_qr4"},j.IOS_SECTION_TITLE),s.createElement("div",{className:"_qr6"},j.CREATE_DIALOG_BODY_MESSAGE_IOS),s.createElement("div",{className:"_qra"},this._appsDropdown()),ca)));}});e.exports=ba;},null);
__d("CctaDialogBodyCta.react",["React","cx","fbt","ix","CustomCTAUtils","CustomCTAConstants","CustomCTAUtils","CctaDispatcher","Image.react","Keys","LeftRight.react","Link.react","CustomCTALogger","PagesEventType","StoreAndPropBasedStateMixin","CctaStore","XUIButton.react","XUISelector.react","XUITextInput.react"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){'use strict';var z="https://www.facebook.com/help/312169205649942",aa=g.createClass({displayName:"CctaDialogBodyCta",mixins:[u(v)],propTypes:{},statics:{calculateState:function(ba){return {data:v.getData(),hasMobile:false,mobileUriError:v.getError('mobileUriError'),webURLInputErrorMessage:l.CREATE_INVALID_WEB_LINK,webUriError:v.getError('webUriError'),focusWebUri:v.getFocused(v.getPageID(),'ctaFocusWebUri'),focusMsite:v.getFocused(v.getPageID(),'ctaFocusMsite')};}},componentDidUpdate:function(){if(this.state.focusWebUri){this.refs.weburi.focusInput();n.addPostDispatchCallback(function(){n.dispatch({actionType:'clear-focused'});});}else if(this.state.focusMsite){this.refs.msite.focusInput();n.addPostDispatchCallback(function(){n.dispatch({actionType:'clear-focused'});});}return;},_onChangeCta:function(ba){var ca=v.getDataCopy();ca.event_type=t.CUSTOM_CTA_CHANGE_CTA_TYPE;s.log(ca);n.dispatch({actionType:'update-cta-type',data:ba.value});},_onChangeWebURL:function(event){var ba=v.getDataCopy();ba.event_type=t.CUSTOM_CTA_CHANGE_WEB_LINK;s.log(ba);n.dispatch({actionType:'update-weburl',data:event.target.value});},_onChangeMsite:function(event){var ba=v.getDataCopy();ba.event_type=t.CUSTOM_CTA_CHANGE_MOBILE_LINK;s.log(ba);n.dispatch({actionType:'update-msite',data:event.target.value});},_checkWebUri:function(){n.addPostDispatchCallback(function(){n.dispatch({actionType:'check-weburl'});});},_checkMsite:function(){n.addPostDispatchCallback(function(){n.dispatch({actionType:'check-msite'});});},_weburlOnKeyDown:function(ba){if(ba.keyCode===p.RETURN){ba.preventDefault();n.addPostDispatchCallback(function(){n.dispatch({actionType:'check-weburl'});});if(!v.getError('webUriError'))this.refs.msite.focusInput();}},_msiteOnKeyDown:function(ba){if(ba.keyCode===p.RETURN){ba.preventDefault();this._checkMsite();}},render:function(){var ba=g.createElement("span",null,g.createElement(o,{className:"_1tzs",src:m.getCallToActionIcon(this.state.data.ctaType)}),m.getCallToActionLabel(this.state.data.ctaType));return (g.createElement(q,{className:"_qr7"},g.createElement("div",{className:"_qr8"},g.createElement(o,{alt:"sad",src:j('/images/pages/custom_cta/www-preview.png')}),g.createElement(w,{className:"_1tzt",label:ba,size:"large"})),g.createElement("div",{className:"_qr9"},g.createElement("div",{className:"_5osn"},l.CREATE_DIALOG_BODY_MESSAGE,' ',g.createElement(r,{target:"_blank",href:z},"Learn More"),"."),g.createElement("div",{className:"_qr4"},l.ACTION_SELECTOR_LABEL),g.createElement("div",{className:"_qra"},g.createElement(x,{onChange:this._onChangeCta,value:this.state.data.ctaType},k.getCallToActionSelectorOptions(l.CREATE_CTA_TYPE_OPTIONS))),g.createElement("div",{className:"_qr4"},l.WEB_LINK_INPUT_LABEL),g.createElement(y,{className:"_qr5",onBlur:this._checkWebUri,onChange:this._onChangeWebURL,onKeyDown:this._weburlOnKeyDown,placeholder:l.WEB_LINK_INPUT_PLACEHOLDER,ref:"weburi",value:this.state.data.webURI,xuiError:this.state.webUriError}),g.createElement("div",{className:"_qr4"},l.MOBILE_LINK_INPUT_LABEL),g.createElement(y,{className:"_qr5",onBlur:this._checkMsite,onChange:this._onChangeMsite,onKeyDown:this._msiteOnKeyDown,placeholder:l.OPTIONAL_LABEL,ref:"msite",value:this.state.data.mobileURI,xuiError:this.state.mobileUriError}))));}});e.exports=aa;},null);
__d("CctaDialogBody.react",["CctaDialogBodyAndroid.react","CctaDialogBodyIphone.react","CctaDialogBodyCta.react","React"],function(a,b,c,d,e,f,g,h,i,j){'use strict';var k=j.createClass({displayName:"CctaDialogBody",propTypes:{step:j.PropTypes.number.isRequired},render:function(){switch(this.props.step){case 1:return j.createElement(i,null);case 2:return j.createElement(h,null);case 3:return j.createElement(g,null);}return null;}});e.exports=k;},null);
__d("PureStoreBasedStateMixin",["StoreBasedStateMixinHelper","invariant","setImmediate"],function(a,b,c,d,e,f,g,h,i){'use strict';var j=function(){for(var k=[],l=0,m=arguments.length;l<m;l++)k.push(arguments[l]);return {getInitialState:function(){return this.constructor.calculateState();},componentWillMount:function(){h(this.constructor.calculateState);this._recalculateStateID=null;var n=function(){if(this.isMounted())this.setState(this.constructor.calculateState());this._recalculateStateID=null;}.bind(this);this._mixin=new g(k);this._mixin.subscribeCallback(function(){if(this._recalculateStateID===null)this._recalculateStateID=i(n);}.bind(this));},componentWillUnmount:function(){this._mixin.release();this._mixin=null;}};}.bind(this);e.exports=j;},null);
__d("XCctaAppsController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("\/custom_cta\/getapps\/",{});},null);
__d("CctaAdvancedDialog.react",["cx","fbt","AsyncRequest","CctaDialogBody.react","CustomCTAConstants","CustomCTALogger","CctaDispatcher","LayerFadeOnHide","PagesEventType","PureStoreBasedStateMixin","React","CctaStore","XCctaAppsController","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUISpinner.react"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){'use strict';var z=q.PropTypes,aa=q.createClass({displayName:"CctaAdvancedDialog",mixins:[p(r)],propTypes:{onClose:z.func.isRequired,payload:z.object.isRequired,shown:z.bool.isRequired},statics:{calculateState:function(){return {data:r.getData(),isLoading:r.getIsLoading(),step:r.getStep()};}},_getPrimaryActionButton:function(){var ba=null;if(this.state.step===3){if(r.getData().cctaID){ba="Save Changes";}else ba="Create";}else ba="Next";return (q.createElement(v,{label:ba,onClick:this.increaseStep,use:"confirm"}));},_getSecondaryActionButton:function(){if(this.state.step===1){return (q.createElement(v,{label:"Cancel",onClick:this._onClose,use:"default"}));}else return (q.createElement(v,{label:"Back",onClick:this.decreaseStep,use:"default"}));},componentDidMount:function(){var ba=(s.getURIBuilder()).getURI();new i(ba).setHandler(function(ca){m.addPostDispatchCallback(function(){m.cctaDispatch({actionType:'get-apps-from-server',data:ca.payload});});}).send();},componentWillMount:function(){this._subscription=r.subscribe('change',function(){this.setState({data:r.getData()});}.bind(this));m.addPostDispatchCallback(function(){m.cctaDispatch({actionType:'update-from-server',data:this.props.payload});}.bind(this));},componentWillUnmount:function(){this._subscription.unsubscribe();},_renderDialogTitle:function(){if(this.state.step===1){return k.CREATE_CALL_TO_ACTION_WEBSITE;}else if(this.state.step===2){return k.CREATE_CALL_TO_ACTION_IPHONE;}else if(this.state.step===3)return k.CREATE_CALL_TO_ACTION_ANDROID;},increaseStep:function(){var ba=r.getDataCopy();ba.step=this.state.step;if(this.state.step<=2){ba.event_type=o.CUSTOM_CTA_CLICK_NEXT_BUTTON;}else if(this.state.step===3)ba.event_type=o.CUSTOM_CTA_CLICK_CREATE_BUTTON;l.log(ba);m.addPostDispatchCallback(function(){m.cctaDispatch({actionType:'increase-step'});});},decreaseStep:function(){var ba=r.getDataCopy();ba.step=this.state.step;if(ba.stap<=1){ba.event_type=o.CUSTOM_CTA_CLICK_CLOSE;}else ba.event_type=o.CUSTOM_CTA_CLICK_BACK_BUTTON_ON_DIALOG;l.log(ba);m.addPostDispatchCallback(function(){m.cctaDispatch({actionType:'decrease-step'});});},_logCancel:function(){var ba=r.getDataCopy();ba.step=this.state.step;ba.event_type=o.CUSTOM_CTA_CLICK_CANCEL;l.log(ba);},_onClose:function(){this._logCancel();this.props.onClose();},_onToggle:function(ba){if(ba===false){this._logCancel();m.addPostDispatchCallback(function(){m.cctaDispatch({actionType:'update-showing-dialog',data:this.props.payload.pageID});}.bind(this));}},renderDialogBody:function(){if(this.state.isLoading){return (q.createElement("div",null,q.createElement(u,null,k.CREATE_LOADING_MESSAGE),q.createElement(u,{className:"_2pv5"},q.createElement(y,{background:"light",size:"large"}))));}else return q.createElement(j,{step:this.state.step});},render:function(){return (q.createElement(t,{behaviors:{LayerFadeOnHide:n},fixedTopPosition:0,layerHideOnBlur:false,onClose:this._onClose,onToggle:this._onToggle,width:k.CREATE_DIALOG_WIDTH,height:k.CREATE_DIALOG_HEIGHT,shown:this.props.shown},q.createElement(x,null,this._renderDialogTitle()),q.createElement(u,{useCustomPadding:true},this.renderDialogBody()),q.createElement(w,{className:"_32t9"},this._getSecondaryActionButton(),this._getPrimaryActionButton())));}});e.exports=aa;},null);
__d("CustomCTAFinish.react",["fbt","CctaDispatcher","LayerHideOnBlur","React","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogFooter.react","XUIContextualDialogTitle.react","XUIDialogButton.react"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=j.createClass({displayName:"CustomCTAFinish",propTypes:{createButton:j.PropTypes.object.isRequired,onClose:j.PropTypes.func.isRequired,pageid:j.PropTypes.string.isRequired},onClick:function(){h.dispatch({actionType:'show-confirmation-dialog',data:this.props.pageid});},render:function(){return (j.createElement(k,{alignment:"center",behaviors:{LayerHideOnBlur:i},context:this.props.createButton.getDOMNode(),onToggle:this.onClick,position:"below",shown:true,width:350},j.createElement(n,null,"Your Call-to-Action Button is Ready"),j.createElement(l,null,"This button is now showing on your Page. You can test or edit it here."),j.createElement(m,null,j.createElement(o,{action:"cancel",label:"Next",onClick:this.onClick,use:"confirm"}))));}});e.exports=p;},null);
__d("XCctaDeleteController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("\/ccta\/delete\/",{});},null);
__d("CctaAdminMenu.react",["cx","fbt","CctaAdvancedDialog.react","Arbiter","AsyncDialog","AsyncRequest","BoostedPagelikeRefs","ContextualDialogArrow","CustomCTAConstants","CustomCTALogger","CustomCTAUtils","CustomCTAFinish.react","CctaDispatcher","LayerFadeOnHide","MenuSeparator.react","PagesEventType","PopoverMenu.react","React","Image.react","ReactLayeredComponentMixin","StoreAndPropBasedStateMixin","CctaStore","XCctaDeleteController","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","ReactXUIMenu","XUIPopoverButton.react"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja){'use strict';var ka=x.PropTypes,la=ia.Item,ma="/ajax/ads/boosted_website/create.php",na=x.createClass({displayName:"DeleteDialog",propTypes:{pageID:x.PropTypes.string.isRequired,cctaID:x.PropTypes.string.isRequired},_onDeleteButtonClick:function(){p.log({event_type:v.CUSTOM_CTA_CLICK_DELETE,page_id:this.props.pageID,cctaID:this.props.cctaID});var pa=ca.getURIBuilder().getURI();new l().setURI(pa).setData({ccta_id:this.props.cctaID,page_id:this.props.pageID}).setHandler(function(qa){s.dispatch({actionType:'deleted-to-server',data:qa.payload});}.bind(this)).send();},render:function(){return (x.createElement(da,{behaviors:{LayerFadeOnHide:t},onToggle:this.props.onClose,shown:true,width:400},x.createElement(ha,null,o.DELETE_DIALOG_TITLE),x.createElement(ea,null,o.DELETE_DIALOG_MESSAGE),x.createElement(ga,null,x.createElement(fa,{action:"cancel",label:"Cancel",use:"default"}),x.createElement(fa,{action:"cancel",label:"Delete",onClick:this._onDeleteButtonClick,use:"confirm"}))));}}),oa=x.createClass({displayName:"CctaAdminMenu",mixins:[aa(ba),z],propTypes:{payload:ka.object.isRequired},getInitialState:function(){return {dialogState:o.NO_DIALOG};},statics:{calculateState:function(pa){return {showingDialog:ba.getUi(pa.payload.pageID,'showingDialog'),showingFinishDialog:ba.getUi(pa.payload.pageID,'showingFinishDialog'),step:ba.getStep()};}},_toggleDialog:function(){this.setState({dialogState:o.NO_DIALOG});s.dispatch({actionType:'update-showing-dialog',data:this.props.payload.pageID});},_showEditDialog:function(){p.log({event_type:v.CUSTOM_CTA_VIEW_EDIT,page_id:this.props.payload.pageID,ctaType:this.props.payload.callToActionType,cctaID:this.props.payload.cctaID});this.setState({dialogState:o.EDIT_DIALOG});},_showDeleteDialog:function(){p.log({event_type:v.CUSTOM_CTA_VIEW_DELETE,page_id:this.props.payload.pageID,ctaType:this.props.payload.callToActionType,cctaID:this.props.payload.cctaID});this.setState({dialogState:o.DELETE_DIALOG});},_onCloseFinishDialog:function(){s.dispatch({actionType:'update-showing-finish-dialog',data:this.props.payload.pageID});},renderLayers:function(){if(this.state.dialogState===o.EDIT_DIALOG&&this.state.showingDialog){return (x.createElement(i,{onClose:this._toggleDialog,payload:this.props.payload,shown:this.state.dialogState===o.EDIT_DIALOG&&this.state.showingDialog}));}else if(this.state.dialogState===o.DELETE_DIALOG){return (x.createElement(na,{cctaID:this.props.payload.cctaID,onClose:this._toggleDialog,pageID:this.props.payload.pageID}));}else if(this.state.showingFinishDialog&&!ba.hasCCTAID())return (x.createElement(r,{createButton:this.refs.ctaButton,onClose:this._onCloseFinishDialog,pageid:this.props.payload.pageID}));},_openTestLink:function(){q.executeCallToAction(this.props.payload.webURI);p.log({event_type:v.CUSTOM_CTA_CLICK_TEST_LINK,page_id:this.props.payload.pageID,cctaID:this.props.cctaID,webURI:this.props.payload.webURI});},_showPromotionDialog:function(){var pa=new l(ma).setData({is_custom_cta:true,cctaid:this.props.payload.cctaID,pageid:this.props.payload.pageID,website:this.props.payload.webURI,call_to_action_type:q.getAdsCallToActionType(this.props.payload.ctaType),ref:m.CUSTOM_CTA_DROPDOWN});k.send(pa);},_showPromotionInsightPanel:function(){j.inform(o.SHOW_FLYOUT,{});},render:function(){var pa=null;if(this.props.payload.promoting){pa=x.createElement(la,{onclick:this._showPromotionInsightPanel},o.VIEW_PROMOTION_LABEL);}else if(this.props.payload.canPromote)pa=x.createElement(la,{onclick:this._showPromotionDialog},o.PROMOTE_LABEL);var qa=x.createElement(ia,null,x.createElement(la,{onclick:this._openTestLink},o.TEST_LABEL),x.createElement(la,{onclick:this._showEditDialog},o.EDIT_LABEL),pa,x.createElement(u,null),x.createElement(la,{onclick:this._showDeleteDialog},o.DELETE_LABEL)),ra=x.createElement("span",null,x.createElement(y,{className:"_xgc",src:q.getCallToActionIcon(this.props.payload.ctaType)}),q.getCallToActionLabel(this.props.payload.ctaType));return (x.createElement(w,{layerBehaviors:[n],menu:qa},x.createElement(ja,{borderShade:"dark",label:ra,onClick:this._toggleDialog,size:"large",ref:"ctaButton"})));}});e.exports=oa;},null);
__d("CctaCreateButton.react",["CctaAdvancedDialog.react","CustomCTAConstants","CustomCTALogger","CctaDispatcher","PagesEventType","React","ReactLayeredComponentMixin","CctaStore","StoreAndPropBasedStateMixin","XUIButton.react"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';var q=l.createClass({displayName:"CctaCreateButton",mixins:[o(n),m],propTypes:{payload:l.PropTypes.object.isRequired},statics:{calculateState:function(r){return {showingDialog:n.getUi(r.payload.pageID,'showingDialog'),step:n.getStep()};}},_hideCreateDialog:function(){j.addPostDispatchCallback(function(){j.cctaDispatch({actionType:'update-showing-finish-dialog',data:this.props.payload.pageID});}.bind(this));},_showDialog:function(){i.log({event_type:k.CUSTOM_CTA_VIEW_CREATE,user_id:this.props.payload.userID,page_id:this.props.payload.pageID});this._toggleDialog();},_toggleDialog:function(){j.addPostDispatchCallback(function(){j.cctaDispatch({actionType:'update-showing-dialog',data:this.props.payload.pageID});}.bind(this));},renderLayers:function(){if(this.state.showingDialog)return {dialog:l.createElement(g,{onClose:this._toggleDialog,payload:this.props.payload,shown:this.state.showingDialog})};},render:function(){var r=h.CREATE_LABEL;return (l.createElement(p,{"aria-label":h.CREATE_TOOLTIP,"data-hover":"tooltip",borderShade:"dark",label:r,onClick:this._showDialog,ref:"createButton",size:"large"}));}});e.exports=q;},null);
__d("CctaAdminUnit.react",["CctaAdminMenu.react","CctaCreateButton.react","React","CctaStore","StoreAndPropBasedStateMixin"],function(a,b,c,d,e,f,g,h,i,j,k){'use strict';var l=i.PropTypes,m=i.createClass({displayName:"CctaAdminUnit",mixins:[k(j)],propTypes:{payload:l.object.isRequired},statics:{calculateState:function(n){if(j.isInitialized())if(j.getPageID()===n.payload.pageID)return {payload:j.getDataCopy()};return {payload:n.payload};}},render:function(){var n=null;if(!!this.state.payload.cctaID){n=i.createElement(g,{payload:this.state.payload});}else n=i.createElement(h,{payload:this.state.payload});return n;}});e.exports=m;},null);
__d("CctaConfirmationDialog.react",["fbt","CctaDispatcher","LayerHideOnBlur","React","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogFooter.react","XUIContextualDialogTitle.react","XUIDialogButton.react"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';var p=j.createClass({displayName:"CctaConfirmationDialog",propTypes:{createButton:j.PropTypes.object.isRequired,pageid:j.PropTypes.number.isRequired},onClick:function(){h.dispatch({actionType:'delete-confirmation-dialog',data:this.props.pageid});},render:function(){return (j.createElement(k,{alignment:"center",behaviors:{LayerHideOnBlur:i},context:this.props.createButton.getDOMNode(),onToggle:this.onClick,position:"left",shown:true,width:350},j.createElement(n,null,"View Your Results"),j.createElement(l,null,"Check here to see how many times your call-to-action(CTA) button has been clicked in the last 7 days."),j.createElement(m,null,j.createElement(o,{action:"cancel",label:"Finish",onClick:this.onClick,use:"confirm"}))));}});e.exports=p;},null);
__d("art/modes/vml/path",["art/core/class","art/core/path"],function(a,b,c,d,e,f,g,h){var i=100,j=Math.round,k=g(h,{initialize:function(l){this.reset();if(l instanceof k){this.path=[Array.prototype.join.call(l.path,' ')];}else if(l)if(l.applyToPath){l.applyToPath(this);}else this.push(l);},onReset:function(){this.path=[];},onMove:function(l,m,n,o){this.path.push('m',j(n*i),j(o*i));},onLine:function(l,m,n,o){this.path.push('l',j(n*i),j(o*i));},onBezierCurve:function(l,m,n,o,p,q,r,s){this.path.push('c',j(n*i),j(o*i),j(p*i),j(q*i),j(r*i),j(s*i));},_arcToBezier:h.prototype.onArc,onArc:function(l,m,n,o,p,q,r,s,t,u,v,w){if(r!=s||w)return this._arcToBezier(l,m,n,o,p,q,r,s,t,u,v,w);p*=i;q*=i;r*=i;this.path.push(v?'at':'wa',j(p-r),j(q-r),j(p+r),j(q+r),j(l*i),j(m*i),j(n*i),j(o*i));},onClose:function(){this.path.push('x');},toVML:function(){return this.path.join(' ');}});k.prototype.toString=k.prototype.toVML;e.exports=k;},null);
__d("d3/core/bisect",[],function(a,b,c,d,e,f){var g=function(j){return {left:function(k,l,m,n){if(arguments.length<3)m=0;if(arguments.length<4)n=k.length;while(m<n){var o=m+n>>>1;if(j.call(k,k[o],o)<l){m=o+1;}else n=o;}return m;},right:function(k,l,m,n){if(arguments.length<3)m=0;if(arguments.length<4)n=k.length;while(m<n){var o=m+n>>>1;if(l<j.call(k,k[o],o)){n=o;}else m=o+1;}return m;}};},h=g(function(j){return j;}),i=h.right;i.left=h.left;i.right=i;i.or=g;e.exports=i;},null);
__d("d3/core/class",[],function(a,b,c,d,e,f){function g(h,i){try{for(var k in i)Object.defineProperty(h.prototype,k,{value:i[k],enumerable:false});}catch(j){h.prototype=i;}}f._class=g;},null);
__d("d3/core/color",[],function(a,b,c,d,e,f){function g(){}g.prototype.toString=function(){return this.rgb()+"";};f._Color=g;},null);
__d("d3/core/core",[],function(a,b,c,d,e,f){var g=Math.PI,h=1e-06,i={version:"3.0.6"},j=g/180,k=180/g,l=typeof document==='undefined'?null:document,m=typeof window==='undefined'?null:window;function n(p){return p.target;}function o(p){return p.source;}i._u03c0=g;i._u03b5=h;i._radians=j;i._degrees=k;i._document=l;i._window=m;i._target=n;i._source=o;e.exports=i;},null);
__d("d3/core/format-en_US",[],function(a,b,c,d,e,f){var g=".",h=",",i=[3,3];f._decimalPoint=g;f._thousandsSeparator=h;f._grouping=i;},null);
__d("d3/core/identity",[],function(a,b,c,d,e,f){function g(h){return h;}f._identity=g;},null);
__d("d3/core/map",["d3/core/class"],function(a,b,c,d,e,f){var g=b("d3\/core\/class")._class,h=function(l){var m=new i();for(var n in l)m.set(n,l[n]);return m;};function i(){}g(i,{has:function(l){return j+l in this;},get:function(l){return this[j+l];},set:function(l,m){return this[j+l]=m;},remove:function(l){l=j+l;return l in this&&delete this[l];},keys:function(){var l=[];this.forEach(function(m){l.push(m);});return l;},values:function(){var l=[];this.forEach(function(m,n){l.push(n);});return l;},entries:function(){var l=[];this.forEach(function(m,n){l.push({key:m,value:n});});return l;},forEach:function(l){for(var m in this)if(m.charCodeAt(0)===k)l.call(this,m.substring(1),this[m]);}});var j="\0",k=j.charCodeAt(0);h._Map=i;e.exports=h;},null);
__d("d3/core/round",[],function(a,b,c,d,e,f){var g=function(h,i){return i?Math.round(h*(i=Math.pow(10,i)))/i:Math.round(h);};e.exports=g;},null);
__d("d3/core/formatPrefix",["d3/core/round","d3/core/format"],function(a,b,c,d,e,f,g){var h=["y","z","a","f","p","n","\u00b5","m","","k","M","G","T","P","E","Z","Y"].map(j),i=function(k,l){var m=0;if(k){if(k<0)k*=-1;if(l)k=g(k,b("d3\/core\/format")._precision(k,l));m=1+Math.floor(1e-12+Math.log(k)/Math.LN10);m=Math.max(-24,Math.min(24,Math.floor((m<=0?m+1:m-1)/3)*3));}return h[8+m/3];};function j(k,l){var m=Math.pow(10,Math.abs(8-l)*3);return {scale:l>8?function(n){return n/m;}:function(n){return n*m;},symbol:k};}e.exports=i;},null);
__d("d3/core/format",["d3/core/format-en_US","d3/core/identity","d3/core/map","d3/core/round","d3/core/formatPrefix"],function(a,b,c,d,e,f){var g=b("d3\/core\/format-en_US"),h=g._decimalPoint,i=b("d3\/core\/identity")._identity,j=g._grouping,k=g._thousandsSeparator,l=b("d3\/core\/map"),m=b("d3\/core\/round"),n=function(u){var v=o.exec(u),w=v[1]||" ",x=v[2]||">",y=v[3]||"",z=v[4]||"",aa=v[5],ba=+v[6],ca=v[7],da=v[8],ea=v[9],fa=1,ga="",ha=false;if(da)da=+da.substring(1);if(aa||w==="0"&&x==="="){aa=w="0";x="=";if(ca)ba-=Math.floor((ba-1)/4);}switch(ea){case "n":ca=true;ea="g";break;case "%":fa=100;ga="%";ea="f";break;case "p":fa=100;ga="%";ea="r";break;case "b":case "o":case "x":case "X":if(z)z="0"+ea.toLowerCase();case "c":case "d":ha=true;da=0;break;case "s":fa=-1;ea="r";break;}if(z==="#")z="";if(ea=="r"&&!da)ea="g";ea=p.get(ea)||r;var ia=aa&&ca;return function(ja){if(ha&&(ja%1))return "";var ka=ja<0||ja===0&&1/ja<0?(ja=-ja,"-"):y;if(fa<0){var la=b("d3\/core\/formatPrefix")(ja,da);ja=la.scale(ja);ga=la.symbol;}else ja*=fa;ja=ea(ja,da);if(!aa&&ca)ja=s(ja);var ma=z.length+ja.length+(ia?0:ka.length),na=ma<ba?new Array(ma=ba-ma+1).join(w):"";if(ia)ja=s(na+ja);if(h)ja.replace(".",h);ka+=z;return (x==="<"?ka+ja+na:x===">"?na+ka+ja:x==="^"?na.substring(0,ma>>=1)+ka+ja+na.substring(ma):ka+(ia?ja:na+ja))+ga;};},o=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,p=l({b:function(u){return u.toString(2);},c:function(u){return String.fromCharCode(u);},o:function(u){return u.toString(8);},x:function(u){return u.toString(16);},X:function(u){return u.toString(16).toUpperCase();},g:function(u,v){return u.toPrecision(v);},e:function(u,v){return u.toExponential(v);},f:function(u,v){return u.toFixed(v);},r:function(u,v){return (u=m(u,q(u,v))).toFixed(Math.max(0,Math.min(20,q(u*(1+1e-15),v))));}});function q(u,v){return v-(u?Math.ceil(Math.log(u)/Math.LN10):1);}function r(u){return u+"";}var s=i;if(j){var t=j.length;s=function(u){var v=u.lastIndexOf("."),w=v>=0?"."+u.substring(v+1):(v=u.length,""),x=[],y=0,z=j[0];while(v>0&&z>0){x.push(u.substring(v-=z,v+z));z=j[y=(y+1)%t];}return x.reverse().join(k||"")+w;};}n._precision=q;e.exports=n;},null);
__d("d3/core/xyz",[],function(a,b,c,d,e,f){function g(i){return i>.008856?Math.pow(i,1/3):7.787037*i+4/29;}function h(i){return Math.round(255*(i<=.00304?12.92*i:1.055*Math.pow(i,1/2.4)-.055));}f._lab=g;f._rgb=h;},null);
__d("d3/core/hsl",["d3/core/color","d3/core/rgb"],function(a,b,c,d,e,f){var g=b("d3\/core\/color")._Color,h=function(m,n,o){return arguments.length===1?(m instanceof j?i(m.h,m.s,m.l):b("d3\/core\/rgb")._parse(""+m,b("d3\/core\/rgb")._hsl,i)):i(+m,+n,+o);};function i(m,n,o){return new j(m,n,o);}function j(m,n,o){this.h=m;this.s=n;this.l=o;}var k=j.prototype=new g();k.brighter=function(m){m=Math.pow(.7,arguments.length?m:1);return i(this.h,this.s,this.l/m);};k.darker=function(m){m=Math.pow(.7,arguments.length?m:1);return i(this.h,this.s,m*this.l);};k.rgb=function(){return l(this.h,this.s,this.l);};function l(m,n,o){var p,q;m=m%360;if(m<0)m+=360;n=n<0?0:n>1?1:n;o=o<0?0:o>1?1:o;q=o<=.5?o*(1+n):o+n-o*n;p=2*o-q;function r(t){if(t>360){t-=360;}else if(t<0)t+=360;if(t<60)return p+(q-p)*t/60;if(t<180)return q;if(t<240)return p+(q-p)*(240-t)/60;return p;}function s(t){return Math.round(r(t)*255);}return b("d3\/core\/rgb")._rgb(s(m+120),s(m),s(m-120));}h._hsl=i;h._rgb=l;e.exports=h;},null);
__d("d3/core/rgb",["d3/core/color","d3/core/xyz","d3/core/map","d3/core/hsl","d3/core/lab"],function(a,b,c,d,e,f){var g=b("d3\/core\/color")._Color,h=b("d3\/core\/xyz")._lab,i=b("d3\/core\/map"),j=function(u,v,w){return arguments.length===1?(u instanceof l?k(u.r,u.g,u.b):o(""+u,k,b("d3\/core\/hsl")._rgb)):k(~~u,~~v,~~w);};function k(u,v,w){return new l(u,v,w);}function l(u,v,w){this.r=u;this.g=v;this.b=w;}var m=l.prototype=new g();m.brighter=function(u){u=Math.pow(.7,arguments.length?u:1);var v=this.r,w=this.g,x=this.b,y=30;if(!v&&!w&&!x)return k(y,y,y);if(v&&v<y)v=y;if(w&&w<y)w=y;if(x&&x<y)x=y;return k(Math.min(255,Math.floor(v/u)),Math.min(255,Math.floor(w/u)),Math.min(255,Math.floor(x/u)));};m.darker=function(u){u=Math.pow(.7,arguments.length?u:1);return k(Math.floor(u*this.r),Math.floor(u*this.g),Math.floor(u*this.b));};m.hsl=function(){return p(this.r,this.g,this.b);};m.toString=function(){return "#"+n(this.r)+n(this.g)+n(this.b);};function n(u){return u<16?"0"+Math.max(0,u).toString(16):Math.min(255,u).toString(16);}function o(u,v,w){var x=0,y=0,z=0,aa,ba,ca;aa=/([a-z]+)\((.*)\)/i.exec(u);if(aa){ba=aa[2].split(",");switch(aa[1]){case "hsl":return w(parseFloat(ba[0]),parseFloat(ba[1])/100,parseFloat(ba[2])/100);case "rgb":return v(s(ba[0]),s(ba[1]),s(ba[2]));}}if(ca=t.get(u))return v(ca.r,ca.g,ca.b);if(u!=null&&u.charAt(0)==="#"){if(u.length===4){x=u.charAt(1);x+=x;y=u.charAt(2);y+=y;z=u.charAt(3);z+=z;}else if(u.length===7){x=u.substring(1,3);y=u.substring(3,5);z=u.substring(5,7);}x=parseInt(x,16);y=parseInt(y,16);z=parseInt(z,16);}return v(x,y,z);}function p(u,v,w){var x=Math.min(u/=255,v/=255,w/=255),y=Math.max(u,v,w),z=y-x,aa,ba,ca=(y+x)/2;if(z){ba=ca<.5?z/(y+x):z/(2-y-x);if(u==y){aa=(v-w)/z+(v<w?6:0);}else if(v==y){aa=(w-u)/z+2;}else aa=(u-v)/z+4;aa*=60;}else ba=aa=0;return b("d3\/core\/hsl")._hsl(aa,ba,ca);}function q(u,v,w){u=r(u);v=r(v);w=r(w);var x=h((.4124564*u+.3575761*v+.1804375*w)/b("d3\/core\/lab")._X),y=h((.2126729*u+.7151522*v+.072175*w)/b("d3\/core\/lab")._Y),z=h((.0193339*u+.119192*v+.9503041*w)/b("d3\/core\/lab")._Z);return b("d3\/core\/lab")._lab(116*y-16,500*(x-y),200*(y-z));}function r(u){return (u/=255)<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4);}function s(u){var v=parseFloat(u);return u.charAt(u.length-1)==="%"?Math.round(v*2.55):v;}var t=i({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});t.forEach(function(u,v){t.set(u,o(v,k,b("d3\/core\/hsl")._rgb));});j._names=t;j._rgb=k;j._parse=o;j._hsl=p;j._hex=n;j._lab=q;e.exports=j;},null);
__d("d3/core/lab",["d3/core/color","d3/core/xyz","d3/core/core","d3/core/hcl","d3/core/rgb"],function(a,b,c,d,e,f){var g=b("d3\/core\/color")._Color,h=b("d3\/core\/xyz")._rgb,i=b("d3\/core\/core")._u03c0,j=function(u,v,w){return arguments.length===1?(u instanceof l?k(u.l,u.a,u.b):(u instanceof b("d3\/core\/hcl")._Hcl?b("d3\/core\/hcl")._lab(u.l,u.c,u.h):b("d3\/core\/rgb")._lab((u=b("d3\/core\/rgb")(u)).r,u.g,u.b))):k(+u,+v,+w);};function k(u,v,w){return new l(u,v,w);}function l(u,v,w){this.l=u;this.a=v;this.b=w;}var m=18,n=.95047,o=1,p=1.08883,q=l.prototype=new g();q.brighter=function(u){return k(Math.min(100,this.l+m*(arguments.length?u:1)),this.a,this.b);};q.darker=function(u){return k(Math.max(0,this.l-m*(arguments.length?u:1)),this.a,this.b);};q.rgb=function(){return r(this.l,this.a,this.b);};function r(u,v,w){var x=(u+16)/116,y=x+v/500,z=x-w/200;y=t(y)*n;x=t(x)*o;z=t(z)*p;return b("d3\/core\/rgb")._rgb(h(3.2404542*y-1.5371385*x-.4985314*z),h(-.969266*y+1.8760108*x+.041556*z),h(.0556434*y-.2040259*x+1.0572252*z));}function s(u,v,w){return b("d3\/core\/hcl")._hcl(Math.atan2(w,v)/i*180,Math.sqrt(v*v+w*w),u);}function t(u){return u>.206893034?u*u*u:(u-4/29)/7.787037;}j._K=m;j._X=n;j._Y=o;j._Z=p;j._Lab=l;j._lab=k;j._rgb=r;j._hcl=s;e.exports=j;},null);
__d("d3/core/hcl",["d3/core/color","d3/core/core","d3/core/lab","d3/core/rgb"],function(a,b,c,d,e,f){var g=b("d3\/core\/color")._Color,h=b("d3\/core\/core")._radians,i=function(n,o,p){return arguments.length===1?(n instanceof k?j(n.h,n.c,n.l):(n instanceof b("d3\/core\/lab")._Lab?b("d3\/core\/lab")._hcl(n.l,n.a,n.b):b("d3\/core\/lab")._hcl((n=b("d3\/core\/rgb")._lab((n=b("d3\/core\/rgb")(n)).r,n.g,n.b)).l,n.a,n.b))):j(+n,+o,+p);};function j(n,o,p){return new k(n,o,p);}function k(n,o,p){this.h=n;this.c=o;this.l=p;}var l=k.prototype=new g();l.brighter=function(n){return j(this.h,this.c,Math.min(100,this.l+b("d3\/core\/lab")._K*(arguments.length?n:1)));};l.darker=function(n){return j(this.h,this.c,Math.max(0,this.l-b("d3\/core\/lab")._K*(arguments.length?n:1)));};l.rgb=function(){return m(this.h,this.c,this.l).rgb();};function m(n,o,p){return b("d3\/core\/lab")._lab(p,Math.cos(n*=h)*o,Math.sin(n)*o);}i._Hcl=k;i._hcl=j;i._lab=m;e.exports=i;},null);
__d("d3/core/ns",[],function(a,b,c,d,e,f){var g={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},h={prefix:g,qualify:function(i){var j=i.indexOf(":"),k=i;if(j>=0){k=i.substring(0,j);i=i.substring(j+1);}return g.hasOwnProperty(k)?{space:g[k],local:i}:i;}};e.exports=h;},null);
__d("d3/core/transform",["d3/core/core","d3/core/ns"],function(a,b,c,d,e,f){var g=b("d3\/core\/core"),h=g._document,i=g._degrees,j=b("d3\/core\/ns"),k=function(q){var r=h.createElementNS(j.prefix.svg,"g");return (k=function(s){r.setAttribute("transform",s);var t=r.transform.baseVal.consolidate();return new l(t?t.matrix:p);})(q);};function l(q){var r=[q.a,q.b],s=[q.c,q.d],t=n(r),u=m(r,s),v=n(o(s,r,-u))||0;if(r[0]*s[1]<s[0]*r[1]){r[0]*=-1;r[1]*=-1;t*=-1;u*=-1;}this.rotate=(t?Math.atan2(r[1],r[0]):Math.atan2(-s[0],s[1]))*i;this.translate=[q.e,q.f];this.scale=[t,v];this.skew=v?Math.atan2(u,v)*i:0;}l.prototype.toString=function(){return "translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")";};function m(q,r){return q[0]*r[0]+q[1]*r[1];}function n(q){var r=Math.sqrt(m(q,q));if(r){q[0]/=r;q[1]/=r;}return r;}function o(q,r,s){q[0]+=s*r[0];q[1]+=s*r[1];return q;}var p={a:1,b:0,c:0,d:1,e:0,f:0};e.exports=k;},null);
__d("d3/core/interpolate",["d3/core/rgb","d3/core/hsl","d3/core/lab","d3/core/hcl","d3/core/color","d3/core/transform"],function(a,b,c,d,e,f){var g=b("d3\/core\/rgb"),h=b("d3\/core\/hsl"),i=b("d3\/core\/lab"),j=b("d3\/core\/hcl"),k=g._hex,l=h._rgb,m=i._rgb,n=j._lab,o=g._names,p=b("d3\/core\/color")._Color,q=b("d3\/core\/transform"),r=function(u,v){var w=r.interpolators.length,x;while(--w>=0&&!(x=r.interpolators[w](u,v)));return x;};r.number=function(u,v){v-=u;return function(w){return u+v*w;};};r.round=function(u,v){v-=u;return function(w){return Math.round(u+v*w);};};r.string=function(u,v){var w,x,y,z=0,aa=0,ba=[],ca=[],da,ea;s.lastIndex=0;for(x=0;w=s.exec(v);++x){if(w.index)ba.push(v.substring(z,aa=w.index));ca.push({i:ba.length,x:w[0]});ba.push(null);z=s.lastIndex;}if(z<v.length)ba.push(v.substring(z));for(x=0,da=ca.length;(w=s.exec(u))&&x<da;++x){ea=ca[x];if(ea.x==w[0]){if(ea.i){if(ba[ea.i+1]==null){ba[ea.i-1]+=ea.x;ba.splice(ea.i,1);for(y=x+1;y<da;++y)ca[y].i--;}else{ba[ea.i-1]+=ea.x+ba[ea.i+1];ba.splice(ea.i,2);for(y=x+1;y<da;++y)ca[y].i-=2;}}else if(ba[ea.i+1]==null){ba[ea.i]=ea.x;}else{ba[ea.i]=ea.x+ba[ea.i+1];ba.splice(ea.i+1,1);for(y=x+1;y<da;++y)ca[y].i--;}ca.splice(x,1);da--;x--;}else ea.x=r.number(parseFloat(w[0]),parseFloat(ea.x));}while(x<da){ea=ca.pop();if(ba[ea.i+1]==null){ba[ea.i]=ea.x;}else{ba[ea.i]=ea.x+ba[ea.i+1];ba.splice(ea.i+1,1);}da--;}if(ba.length===1)return ba[0]==null?ca[0].x:function(){return v;};return function(fa){for(x=0;x<da;++x)ba[(ea=ca[x]).i]=ea.x(fa);return ba.join("");};};r.transform=function(u,v){var w=[],x=[],y,z=q(u),aa=q(v),ba=z.translate,ca=aa.translate,da=z.rotate,ea=aa.rotate,fa=z.skew,ga=aa.skew,ha=z.scale,ia=aa.scale;if(ba[0]!=ca[0]||ba[1]!=ca[1]){w.push("translate(",null,",",null,")");x.push({i:1,x:r.number(ba[0],ca[0])},{i:3,x:r.number(ba[1],ca[1])});}else if(ca[0]||ca[1]){w.push("translate("+ca+")");}else w.push("");if(da!=ea){if(da-ea>180){ea+=360;}else if(ea-da>180)da+=360;x.push({i:w.push(w.pop()+"rotate(",null,")")-2,x:r.number(da,ea)});}else if(ea)w.push(w.pop()+"rotate("+ea+")");if(fa!=ga){x.push({i:w.push(w.pop()+"skewX(",null,")")-2,x:r.number(fa,ga)});}else if(ga)w.push(w.pop()+"skewX("+ga+")");if(ha[0]!=ia[0]||ha[1]!=ia[1]){y=w.push(w.pop()+"scale(",null,",",null,")");x.push({i:y-4,x:r.number(ha[0],ia[0])},{i:y-2,x:r.number(ha[1],ia[1])});}else if(ia[0]!=1||ia[1]!=1)w.push(w.pop()+"scale("+ia+")");y=x.length;return function(ja){var ka=-1,la;while(++ka<y)w[(la=x[ka]).i]=la.x(ja);return w.join("");};};r.rgb=function(u,v){u=g(u);v=g(v);var w=u.r,x=u.g,y=u.b,z=v.r-w,aa=v.g-x,ba=v.b-y;return function(ca){return "#"+k(Math.round(w+z*ca))+k(Math.round(x+aa*ca))+k(Math.round(y+ba*ca));};};r.hsl=function(u,v){u=h(u);v=h(v);var w=u.h,x=u.s,y=u.l,z=v.h-w,aa=v.s-x,ba=v.l-y;if(z>180){z-=360;}else if(z<-180)z+=360;return function(ca){return l(w+z*ca,x+aa*ca,y+ba*ca)+"";};};r.lab=function(u,v){u=i(u);v=i(v);var w=u.l,x=u.a,y=u.b,z=v.l-w,aa=v.a-x,ba=v.b-y;return function(ca){return m(w+z*ca,x+aa*ca,y+ba*ca)+"";};};r.hcl=function(u,v){u=j(u);v=j(v);var w=u.h,x=u.c,y=u.l,z=v.h-w,aa=v.c-x,ba=v.l-y;if(z>180){z-=360;}else if(z<-180)z+=360;return function(ca){return n(w+z*ca,x+aa*ca,y+ba*ca)+"";};};r.array=function(u,v){var w=[],x=[],y=u.length,z=v.length,aa=Math.min(u.length,v.length),ba;for(ba=0;ba<aa;++ba)w.push(r(u[ba],v[ba]));for(;ba<y;++ba)x[ba]=u[ba];for(;ba<z;++ba)x[ba]=v[ba];return function(ca){for(ba=0;ba<aa;++ba)x[ba]=w[ba](ca);return x;};};r.object=function(u,v){var w={},x={},y;for(y in u)if(y in v){w[y]=t(y)(u[y],v[y]);}else x[y]=u[y];for(y in v)if(!(y in u))x[y]=v[y];return function(z){for(y in w)x[y]=w[y](z);return x;};};var s=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;function t(u){return u=="transform"?r.transform:r;}r.interpolators=[r.object,function(u,v){return v instanceof Array&&r.array(u,v);},function(u,v){return (typeof u==="string"||typeof v==="string")&&r.string(u+"",v+"");},function(u,v){return (typeof v==="string"?o.has(v)||/^(#|rgb\(|hsl\()/.test(v):v instanceof p)&&r.rgb(u,v);},function(u,v){return !isNaN(u=+u)&&!isNaN(v=+v)&&r.number(u,v);}];r._interpolateByName=t;e.exports=r;},null);
__d("d3/core/range",[],function(a,b,c,d,e,f){var g=function(i,j,k){if(arguments.length<3){k=1;if(arguments.length<2){j=i;i=0;}}if((j-i)/k===Infinity)throw new Error("infinite range");var l=[],m=h(Math.abs(k)),n=-1,o;i*=m,j*=m,k*=m;if(k<0){while((o=i+k*++n)>j)l.push(o/m);}else while((o=i+k*++n)<j)l.push(o/m);return l;};function h(i){var j=1;while(i*j%1)j*=10;return j;}e.exports=g;},null);
__d("d3/core/rebind",[],function(a,b,c,d,e,f){var g=function(i,j){var k=1,l=arguments.length,m;while(++k<l)i[m=arguments[k]]=h(i,j,j[m]);return i;};function h(i,j,k){return function(){var l=k.apply(j,arguments);return arguments.length?i:l;};}e.exports=g;},null);
__d("d3/core/sum",[],function(a,b,c,d,e,f){var g=function(h,i){var j=0,k=h.length,l,m=-1;if(arguments.length===1){while(++m<k)if(!isNaN(l=+h[m]))j+=l;}else while(++m<k)if(!isNaN(l=+i.call(h,h[m],m)))j+=l;return j;};e.exports=g;},null);
__d("d3/core/uninterpolate",[],function(a,b,c,d,e,f){function g(i,j){j=j-(i=+i)?1/(j-i):0;return function(k){return (k-i)*j;};}function h(i,j){j=j-(i=+i)?1/(j-i):0;return function(k){return Math.max(0,Math.min(1,(k-i)*j));};}f._uninterpolateNumber=g;f._uninterpolateClamp=h;},null);
__d("d3/core/values",[],function(a,b,c,d,e,f){var g=function(h){var i=[];for(var j in h)if(h.hasOwnProperty(j))i.push(h[j]);return i;};e.exports=g;},null);
__d("d3/scale/bilinear",[],function(a,b,c,d,e,f){function g(h,i,j,k){var l=j(h[0],h[1]),m=k(i[0],i[1]);return function(n){return m(l(n));};}f._bilinear=g;},null);
__d("d3/scale/polylinear",["d3/core/bisect"],function(a,b,c,d,e,f,g){function h(i,j,k,l){var m=[],n=[],o=0,p=Math.min(i.length,j.length)-1;if(i[p]<i[0]){i=i.slice().reverse();j=j.slice().reverse();}while(++o<=p){m.push(k(i[o-1],i[o]));n.push(l(j[o-1],j[o]));}return function(q){var r=g(i,q,1,p)-1;return n[r](m[r](q));};}f._polylinear=h;},null);
__d("d3/scale/nice",[],function(a,b,c,d,e,f){function g(i,j){var k=0,l=i.length-1,m=i[k],n=i[l],o;if(n<m){o=k,k=l,l=o;o=m,m=n,n=o;}if(j=j(n-m)){i[k]=j.floor(m);i[l]=j.ceil(n);}return i;}function h(){return Math;}f._nice=g;f._niceDefault=h;},null);
__d("d3/scale/scale",[],function(a,b,c,d,e,f){var g={};function h(j){var k=j[0],l=j[j.length-1];return k<l?[k,l]:[l,k];}function i(j){return j.rangeExtent?j.rangeExtent():h(j.range());}g._scaleExtent=h;g._scaleRange=i;e.exports=g;},null);
__d("d3/scale/linear",["d3/core/uninterpolate","d3/scale/polylinear","d3/scale/bilinear","d3/scale/nice","d3/scale/scale","d3/core/interpolate","d3/core/rebind","d3/core/range","d3/core/core","d3/core/format"],function(a,b,c,d,e,f){var g=b("d3\/core\/uninterpolate"),h=b("d3\/scale\/polylinear")._polylinear,i=b("d3\/scale\/bilinear")._bilinear,j=g._uninterpolateClamp,k=g._uninterpolateNumber,l=b("d3\/scale\/nice")._nice,m=b("d3\/scale\/scale")._scaleExtent,n=b("d3\/core\/interpolate"),o=b("d3\/core\/rebind"),p=b("d3\/core\/range"),q=b("d3\/core\/core"),r=b("d3\/core\/format"),s=function(){return t([0,1],[0,1],n,false);};function t(z,aa,ba,ca){var da,ea;function fa(){var ha=Math.min(z.length,aa.length)>2?h:i,ia=ca?j:k;da=ha(z,aa,ia,ba);ea=ha(aa,z,ia,n);return ga;}function ga(ha){return da(ha);}ga.invert=function(ha){return ea(ha);};ga.domain=function(ha){if(!arguments.length)return z;z=ha.map(Number);return fa();};ga.range=function(ha){if(!arguments.length)return aa;aa=ha;return fa();};ga.rangeRound=function(ha){return ga.range(ha).interpolate(n.round);};ga.clamp=function(ha){if(!arguments.length)return ca;ca=ha;return fa();};ga.interpolate=function(ha){if(!arguments.length)return ba;ba=ha;return fa();};ga.ticks=function(ha){return x(z,ha);};ga.tickFormat=function(ha){return y(z,ha);};ga.nice=function(){l(z,v);return fa();};ga.copy=function(){return t(z,aa,ba,ca);};return fa();}function u(z,aa){return o(z,aa,"range","rangeRound","interpolate","clamp");}function v(z){z=Math.pow(10,Math.round(Math.log(z)/Math.LN10)-1);return z&&{floor:function(aa){return Math.floor(aa/z)*z;},ceil:function(aa){return Math.ceil(aa/z)*z;}};}function w(z,aa){var ba=m(z),ca=ba[1]-ba[0],da=Math.pow(10,Math.floor(Math.log(ca/aa)/Math.LN10)),ea=aa/ca*da;if(ea<=.15){da*=10;}else if(ea<=.35){da*=5;}else if(ea<=.75)da*=2;ba[0]=Math.ceil(ba[0]/da)*da;ba[1]=Math.floor(ba[1]/da)*da+da*.5;ba[2]=da;return ba;}function x(z,aa){return p.apply(q,w(z,aa));}function y(z,aa){return r(",."+Math.max(0,-Math.floor(Math.log(w(z,aa)[2])/Math.LN10+.01))+"f");}s._linearTicks=x;s._linearTickFormat=y;s._linearNice=v;s._linearRebind=u;e.exports=s;},null);
__d("d3/time/time",[],function(a,b,c,d,e,f){var g={},h=Date,i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function j(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0]);}j.prototype={getDate:function(){return this._.getUTCDate();},getDay:function(){return this._.getUTCDay();},getFullYear:function(){return this._.getUTCFullYear();},getHours:function(){return this._.getUTCHours();},getMilliseconds:function(){return this._.getUTCMilliseconds();},getMinutes:function(){return this._.getUTCMinutes();},getMonth:function(){return this._.getUTCMonth();},getSeconds:function(){return this._.getUTCSeconds();},getTime:function(){return this._.getTime();},getTimezoneOffset:function(){return 0;},valueOf:function(){return this._.valueOf();},setDate:function(){k.setUTCDate.apply(this._,arguments);},setDay:function(){k.setUTCDay.apply(this._,arguments);},setFullYear:function(){k.setUTCFullYear.apply(this._,arguments);},setHours:function(){k.setUTCHours.apply(this._,arguments);},setMilliseconds:function(){k.setUTCMilliseconds.apply(this._,arguments);},setMinutes:function(){k.setUTCMinutes.apply(this._,arguments);},setMonth:function(){k.setUTCMonth.apply(this._,arguments);},setSeconds:function(){k.setUTCSeconds.apply(this._,arguments);},setTime:function(){k.setTime.apply(this._,arguments);}};var k=Date.prototype;g._time=h;g._daySymbols=i;g._utc=j;e.exports=g;},null);
__d("d3/time/interval",["d3/time/time"],function(a,b,c,d,e,f){var g=b("d3\/time\/time"),h=g._utc;function i(k,l,m){function n(t){var u=k(t),v=p(u,1);return t-u<v-t?u:v;}function o(t){l(t=k(new g._time(t-1)),1);return t;}function p(t,u){l(t=new g._time(+t),u);return t;}function q(t,u,v){var w=o(t),x=[];if(v>1){while(w<u){if(!(m(w)%v))x.push(new Date(+w));l(w,1);}}else while(w<u)x.push(new Date(+w)),l(w,1);return x;}function r(t,u,v){try{g._time=h;var w=new h();w._=t;return q(w,u,v);}finally{g._time=Date;}}k.floor=k;k.round=n;k.ceil=o;k.offset=p;k.range=q;var s=k.utc=j(k);s.floor=s;s.round=j(n);s.ceil=j(o);s.offset=j(p);s.range=r;return k;}function j(k){return function(l,m){try{g._time=h;var n=new h();n._=l;return k(n,m)._;}finally{g._time=Date;}};}f._interval=i;},null);
__d("d3/time/year",["d3/time/interval","d3/time/day"],function(a,b,c,d,e,f){var g=b("d3\/time\/interval")._interval,h=g(function(i){i=b("d3\/time\/day")(i);i.setMonth(0,1);return i;},function(i,j){i.setFullYear(i.getFullYear()+j);},function(i){return i.getFullYear();});h.s=h.range;h.s.utc=h.utc.range;e.exports=h;},null);
__d("d3/time/day",["d3/time/time","d3/time/interval","d3/time/year"],function(a,b,c,d,e,f){var g=b("d3\/time\/time"),h=b("d3\/time\/interval")._interval,i=h(function(j){var k=new g._time(1970,0);k.setFullYear(j.getFullYear(),j.getMonth(),j.getDate());return k;},function(j,k){j.setDate(j.getDate()+k);},function(j){return j.getDate()-1;});i.s=i.range;i.s.utc=i.utc.range;i.ofYear=function(j){var k=b("d3\/time\/year")(j);return Math.floor((j-k-(j.getTimezoneOffset()-k.getTimezoneOffset())*60000)/86400000);};e.exports=i;},null);
__d("d3/time/month",["d3/time/interval","d3/time/day"],function(a,b,c,d,e,f){var g=b("d3\/time\/interval")._interval,h=b("d3\/time\/day"),i=g(function(j){j=h(j);j.setDate(1);return j;},function(j,k){j.setMonth(j.getMonth()+k);},function(j){return j.getMonth();});i.s=i.range;i.s.utc=i.utc.range;e.exports=i;},null);
__d("d3/time/second",["d3/time/time","d3/time/interval"],function(a,b,c,d,e,f){var g=b("d3\/time\/time"),h=b("d3\/time\/interval")._interval,i=h(function(j){return new g._time(Math.floor(j/1000)*1000);},function(j,k){j.setTime(j.getTime()+Math.floor(k)*1000);},function(j){return j.getSeconds();});i.s=i.range;i.s.utc=i.utc.range;e.exports=i;},null);
__d("UTCUtils",[],function(a,b,c,d,e,f){var g=-1*7*60*60*1000,h=-1*8*60*60*1000,i={dateToUTC:function(j){return Date.UTC(j.getFullYear(),j.getMonth(),j.getDate(),j.getHours(),j.getMinutes(),j.getSeconds(),j.getMilliseconds());},dateToUTCDate:function(j){return new Date(j.getUTCFullYear(),j.getUTCMonth(),j.getUTCDate(),j.getUTCHours(),j.getUTCMinutes(),j.getUTCSeconds(),j.getUTCMilliseconds());},getPacificOffsetAt:function(j){if(j<=1.32057e+12){return g;}else if(j<=1.33146e+12){return h;}else if(j<=1352019600000){return g;}else if(j<=1362909600000){return h;}else if(j<=1383469200000){return g;}else if(j<=1394359200000){return h;}else if(j<=1414918800000){return g;}else if(j<=1425808800000){return h;}else if(j<=1446368400000){return g;}else return h;},offsetFromPacificTime:function(j){j=j||new Date();var k=i.getPacificOffsetAt(+j)/1000/60/60,l=j.getTimezoneOffset()/60;return k+l;}};e.exports=i;},null);
__d("HubblePostUtils",["d3/core/sum","d3/core/values","mapObject"],function(a,b,c,d,e,f,g,h,i){var j={_metrics:['post_engaged_users','post_consumptions_by_type','post_impressions_unique','post_stories_by_action_type','post_negative_feedback_by_type','post_impressions_paid_unique','post_impressions_fan_unique','post_video_views_organic','post_video_views_paid'],parseInsights:function(k,l){var m=l.post_consumptions_by_type||{},n=l.post_stories_by_action_type||{},o=l.post_negative_feedback_by_type||{},p=l.post_impressions_unique||0,q={like:n.like||0,comment:n.comment||0,share:n.share||0},r=g(h(q)),s={};s.link=m['link clicks']||0;if(k==='video'||k==='premiumVideo'){s.video_play=m['video play']||0;}else s.photo_view=m['photo view']||0;s.other=(m['other clicks']||0)-r;if(s.other<0)s.other=0;var t=g(h(s)),u={hide_clicks:o.hide_clicks||0,hide_all_clicks:o.hide_all_clicks||0,report_spam_clicks:o.report_spam_clicks||0,unlike_page_clicks:o.unlike_page_clicks||0},v=g(h(u)),w=l.post_impressions_paid_unique||0,x=l.post_impressions_fan_unique||0,y={paid:w,organic:p-w,fans:x,nonfans:p-x},z=l.post_engaged_users||0,aa=p>0?z/p:0,ba=l.post_video_views_organic+l.post_video_views_paid;return {clicks:t,clicksByType:s,engagedUsers:z,lcs:r,lcsByType:q,negative:v,negativeFeedbackByType:u,reach:p,reachByType:y,engagementRate:aa,videoViews:ba};},_formatPostInsightsResponse:function(k,l){return i(l,function(m){var n={};m.data.forEach(function(o){n[o.name]=o.values[0].value;});k.forEach(function(o){if(!n.hasOwnProperty(o))n[o]=null;});return n;});}};e.exports=j;},null);
__d("ReactARTUtils",["getStyleProperty"],function(a,b,c,d,e,f,g){var h={},i=null,j=/url\(([^)]*)\)/;function k(o){var p=o.match(j);return p?p[1]:null;}function l(o){return parseFloat(o)||null;}function m(o){var p=o?o.split(' '):[];if(p.length!=2)return [null,null];p[0]=l(p[0]);p[1]=l(p[1]);return p;}function n(o){if(o in h)return h[o];if(!i)i=document.createElement('i');i.className=o;document.body.appendChild(i);var p=g(i,'backgroundImage'),q=g(i,'backgroundSize'),r=g(i,'backgroundPosition'),s=g(i,'width'),t=g(i,'height');document.body.removeChild(i);return h[o]={uri:k(p),imageSize:m(q),offset:m(r),boxSize:[l(s),l(t)]};}e.exports={extractImageDataFromClassName:n};},null);
__d("SanityCheck",["ErrorUtils","SanityCheckNames","SanityCheckStatuses","ex"],function(a,b,c,d,e,f,g,h,i,j){var k=Object.keys(h).map(function(m){return h[m];});function l(m,n){"use strict";this.$SanityCheck0=i.VALID;this.$SanityCheck1=m;this.$SanityCheck2=n;if(k.indexOf(this.$SanityCheck2)===-1){g.reportError(new Error(j('Invalid SanityCheck name: %s.',this.$SanityCheck2)));this.$SanityCheck0=i.INVALID_CONFIG;}}l.prototype.check=function(m){"use strict";if(this.$SanityCheck0!==i.VALID)return {name:this.$SanityCheck2,status:this.$SanityCheck0};var n;try{n=this.$SanityCheck1.apply(null,m);}catch(o){g.reportError(o);return {args:m,status:i.CHECKTIME_FAILURE};}return {args:m,name:this.getName(),passed:n,status:this.$SanityCheck0};};l.prototype.getName=function(){"use strict";return this.$SanityCheck2;};e.exports=l;},null);
__d("SanityCheckChecker",[],function(a,b,c,d,e,f){var g={check:function(h,i){return h.check(i);},checkMulti:function(h){return h.map(function(i){return g.check(i.sanityCheck,i.args);});}};e.exports=g;},null);
__d("SanityCheckAdapter",["BanzaiLogger","BanzaiODS","SanityCheckChecker","SanityCheckStatuses"],function(a,b,c,d,e,f,g,h,i,j){var k={};function l(n,o,p,q){p=p||{};var r=[n.getName(),JSON.stringify(o),JSON.stringify(p)].join(':');if(k.hasOwnProperty(r))return;k[r]=true;if(!q.passed)g.log('SanityCheckLoggerConfig',Object.assign(p,{name:n.getName()}));h.bumpFraction('sanity_check.pass_ratio','sanity_check.'+n.getName(),q.passed?1:0,1);}var m={check:function(n,o,p){var q=i.check(n,o);if(q.status===j.VALID)l(n,o,p,q);return q.passed;}};e.exports=m;},null);
__d("PIAPIResponseSanityCheck",["SanityCheck","SanityCheckNames"],function(a,b,c,d,e,f,g,h){e.exports=new g(function(i,j){return i.metric&&j.data.length>0;},h.PI_API_RESPONSE);},null);
__d("SpectrumNumberUtilities",["NumberFormatConfig","fbt","intlNumUtils"],function(a,b,c,d,e,f,g,h,i){function j(p){return i.getIntegerString(Math.round(p),g.numberDelimiter);}function k(p){p=Math.round(p*10)/10;return i.getFloatString(p,g.numberDelimiter,g.decimalSeparator);}function l(p){if(Math.abs(p)>=1e+09)return k(p/1e+09)+'b';if(Math.abs(p)>=1e+06)return k(p/1e+06)+'m';if(Math.abs(p)>=1000)return k(p/1000)+'K';return j(p);}var m={GBP:163,EUR:128,JPY:165,USD:36};function n(p,q){var r=m[p];if(r)p=String.fromCharCode(r);var s,t='';if(q==Math.round(q)){s=l(q);}else{var u=q.toFixed(2).split('.'),v=g.decimalSeparator;s=j(parseInt(u[0],10))+v+u[1];if(q<0){s=s.replace(/-/,'');t='-';}}return (h._("{negative sign(-) or blank}{currency symbol}{number}",[h.param("negative sign(-) or blank",t),h.param("currency symbol",p),h.param("number",s)]));}var o={CURRENCY_FORMATS:m,currencyFormatter:n,integerFormatter:j,floatFormatter:k,shortIntegerFormatter:l};e.exports=o;},null);
__d("SpectrumBaseNumberScale",["d3/scale/linear","SpectrumNumberUtilities","d3/core/range"],function(a,b,c,d,e,f,g,h,i){function j(n){if(n===0)return 0;return Math.pow(10,Math.round(Math.log(Math.abs(n))/Math.LN10)-1);}function k(n,o){var p=n.domain(),q=p[0],r=p[p.length-1],s=r-q;if(r<q){q=r;r=p[0];}var t=n.ceilToFixed(Math.pow(10,n.floorToFixed(Math.log(s/o)/Math.LN10))),u=(o*t)/s;if(u<=.15){t*=10;}else if(u<=.35){t*=5;}else if(u<=.75)t*=2;return {start:q,stop:r,span:s,step:t};}function l(n,o){n.shift=function(){return Math.pow(10,o);};n.tickFormat=function(){return h.shortIntegerFormatter;};n.tooltipFormat=function(){return h.integerFormatter;};n.nice=function(q){var r=n.domain(),s=r[0],t=r[r.length-1],u=Math.max(j(s),j(t),1/n.shift());if(u===0){s=0;t=1;}else if(s==t){t=Math.ceil(t/u)*u;s=t-u;if(t>=0){s=Math.max(s,0);t=Math.max(t,u);}}else if(s<t){s=Math.floor(s/u)*u;t=Math.ceil(t/u)*u;}else{s=Math.ceil(s/u)*u;t=Math.floor(t/u)*u;}return n.domain([s,t]);};n.ceilToFixed=function(q){return Math.ceil(q*n.shift())/n.shift();};n.floorToFixed=function(q){return Math.floor(q*n.shift())/n.shift();};n.getTickStep=function(q){var r=k(n,q);return r.step;};n.ticks=function(q){var r=k(n,q),s=r.start,t=r.stop,u=r.span,v=r.step,w=s>0?1:-1,x=t>0?1:-1,y=i(w*Math.ceil(Math.abs(s/v))*v,x*Math.floor(Math.abs(t/v))*v+v*.5,v);if(y[0]<s)y.shift();var z=y.map(n.tickFormat()).some(function(aa,ba,ca){return ba>0&&aa==ca[ba-1];});if(z)y=n.ticks(q-1);if(y.length<=2)if(q>2&&t>1){return [s,s+u/2,t];}else return [s,t];return y;};var p=n.copy;n.copy=function(){return l(p(),o);};return n;}var m=function(n){n=n===(void 0)?0:n;return l(g(),n);};e.exports=m;},null);
__d("SpectrumIntegerScale",["SpectrumBaseNumberScale"],function(a,b,c,d,e,f,g){var h=function(){return g(0);};e.exports=h;},null);
__d("InsightsApiClient",["ApiClient","PHPQuerySerializer"],function(a,b,c,d,e,f,g,h){var i={};function j(l,m,n){if(n&&!n.error)i[l]=n;m(n);}var k={getRaw:function(l,m,n,o,p,q){var r=m+h.serialize(n);if(i.hasOwnProperty(r)&&!q){setTimeout(o.bind(null,i[r]),0);}else{if(l.hasOwnProperty('clientID'))g.setClientID(l.clientID);if(l.hasOwnProperty('accessToken'))g.setAccessToken(l.accessToken);g.graph(m,n,j.bind(null,r,o),p);}}};e.exports=k;},null);
__d("HubbleApiClient",["AsyncRequest","HubbleContext","InsightsApiClient","PageInsightsApiAccess"],function(a,b,c,d,e,f,g,h,i,j){var k={get:function(l,m,n){if(!h.getPageID())return;l=h.getPageID()+(l||'');this.getRaw(l,m,n);},getPosts:function(l,m){if(!h.getPageID())return;l.page_id=h.getPageID();var n=new g().setData(l).setMethod('GET').setPreBootloadHandler(function(o){m(o.payload);}).setReadOnly(true).setURI('/ajax/pages/insights/post_fields');n.send();},getRaw:function(l,m,n){i.getRaw(j,l,m,n);}};e.exports=k;},null);
__d("HubbleConstants",["PageInsightsPostFields"],function(a,b,c,d,e,f,g){var h={DEFAULT_SECTION:'navOverview',NAV_SECTIONS:{OVERVIEW:'navOverview',LIKES:'navLikes',REACH:'navReach',VISITS:'navVisits',POSTS:'navPosts',PEOPLE:'navPeople',IN_STORE:'navInStore'},SCROLL_TARGETS:{ENGAGEMENT:'engagement'},PIPELINE_DAILY:'pipe_daily',PIPELINE_WEEKLY:'pipe_weekly',PIPELINE_MONTHLY:'pipe_monthly',PIPELINE_LIFETIME:'pipe_lifetime',PIPELINE_DEMO:'pipe_demo',PERIOD_DAY:'day',PERIOD_WEEK:'week',PERIOD_28_DAYS:'days_28',PERIOD_LIFETIME:'lifetime',SERIES_AREA:'area',SERIES_LINE:'line',SEC_IN_MIN:60,DAYS_PER_WEEK:7,SORT_BY_DATE:'date',SORT_BY_REACH:'reach',SORT_BY_CLICKS:'clicks',SORT_BY_LCS:'lcs',REQ_PREMIUM_VIDEO:'premium_video',REQ_PUBLISHED:'published',REQ_SMART_PUBLISHING:'smart_publishing',REQ_UNPUBLISHED:'unpublished',TABLE_PAGE_SIZE:10,FACEBOOK_DEMOGRAPHICS:{F:{ageBuckets:{'13-17':7.2,'18-24':14.4,'25-34':11.8,'35-44':6.2,'45-54':3.6,'55-64':1.9,'65+':1.1},total:46.2},M:{ageBuckets:{'13-17':7.7,'18-24':17.9,'25-34':14.8,'35-44':7,'45-54':3.6,'55-64':1.6,'65+':1.3},total:53.8},total:100},POSTS_TABLE_FIELDS:[g.CAPTION,g.CREATION_TIME,g.DESCRIPTION,g.ID,g.IDENTIFIER,g.MESSAGE,g.NAME,g.PICTURE,g.PRIVACY,g.STATUS_TYPE,g.TYPE]};e.exports=h;},null);
__d("InsightsUtils",["copyProperties","d3/time/day","UTCUtils"],function(a,b,c,d,e,f,g,h,i){var j=24*60*60,k=25*60*60,l={dateToSeconds:function(m){if(m instanceof Date)return parseInt(m.getTime()/1000,10);return m;},formatInsightsResponse:function(m){var n=-Infinity,o=null,p=0,q=null,r=false,s=0,t=null,u=0,v=Infinity,w=m.data.length,x=null,y=null,z={};for(var aa=0;aa<w;++aa){q=m.data[aa];r=typeof q.values[0].value==='object';v=Math.min(v,q.values[0].end_time-j);n=Math.max(n,q.values[m.data[aa].values.length-1].end_time);z[q.name]=z[q.name]||{};if(r){z[q.name][q.period]=t={};for(var ba=0;ba<q.values.length;++ba){y=q.values[ba];Object.keys(y.value).forEach(function(ca){if(!t.hasOwnProperty(ca))z[q.name][q.period][ca]=null;});}}else z[q.name][q.period]=null;}u=Math.round((n-v)/j);for(aa=0;aa<w;++aa){p=v;q=m.data[aa];r=typeof q.values[0].value==='object';s=0;x=q.period+'_timestamps';o=l.fillArray(u,null);z[q.name][x]=o;if(!r)z[q.name][q.period]=l.fillArray(u,null);for(ba=0;ba<q.values.length;++ba){y=q.values[ba];if(y.end_time-p>k)s+=Math.round((y.end_time-p)/j)-1;if(r){t=z[q.name][q.period];Object.keys(t).forEach(function(ca){if(t[ca]===null)t[ca]=l.fillArray(u,null);t[ca][ba+s]=y.value[ca]||0;});}else z[q.name][q.period][ba+s]=y.value;z[q.name][x][ba+s]=y.end_time;p=y.end_time;}}return {endTime:l.pacificSecondsToUTCDate(n),seriesLength:u,startTime:l.pacificSecondsToUTCDate(v+j),values:z};},formatParams:function(m){var n=g({},m);n.date_format='U';if(m.since)n.since=this.utcDateToPacificSeconds(m.since);if(m.until)n.until=this.utcDateToPacificSeconds(m.until);return n;},localTimeToPacificDate:function(m){return new Date(m.getTime()+i.offsetFromPacificTime(m));},pacificSecondsToUTCDate:function(m){var n=m*1000;return new Date(n+i.getPacificOffsetAt(n));},utcDateToPacificSeconds:function(m){return this.dateToSeconds(m)-Math.round(i.getPacificOffsetAt(m)/1000);},pacificTimeToUTCDay:function(m){return h.utc.floor(new Date(m.getTime()+i.getPacificOffsetAt(m)));},utcTimeToPacificDay:function(m){return new Date(h.utc.floor(m).getTime()-i.getPacificOffsetAt(m));},getMostRecentPacificDayBegin:function(m){var n=m.getTime(),o=n+i.getPacificOffsetAt(n),p=h.utc.floor(new Date(o)).getTime(),q=new Date(p-i.getPacificOffsetAt(p));return q;},fillArray:function(m,n){var o=new Array(m);for(var p=0;p<m;)o[p++]=n;return o;},getRangeIndices:function(m,n){return [l.millisecondsToDays(n.since-m)+1,l.millisecondsToDays(n.until-m)];},millisecondsToDays:function(m){var n=1000*60*60*24;return Math.round(m/n);},sliceData:function(m,n,o){var p=l.getRangeIndices(n,o);return m.slice(p[0],p[1]+1);},moveRange:function(m,n){var o=n||-7;return {since:h.utc.offset(m.since,o),until:h.utc.offset(m.until,o)};},chartHasDataToRender:function(m){return m.lines&&m.lines.length||m.areas&&m.areas.length;}};e.exports=l;},null);
__d("HubbleApiWrapper",["HubbleApiClient","HubbleContext","HubbleConstants","HubblePostUtils","InsightsUtils","PIAPIResponseSanityCheck","SanityCheckAdapter","d3/time/day","setImmediate"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(r){return function(s){var t=null;if(s.cursor){t=function(u){g.getPosts({cursor:s.cursor,type:s.type},p(u));};}else if(s.paging&&s.paging.next)t=function(u){g.getRaw(s.paging.next,{},p(u));};r(s,t);};}var q={_formatPageInsightsPerPostResponse:function(r,s){var t={},u=/^([^\/]+)\//;s.data.forEach(function(v){var w=u.exec(v.id);if(!w||!w[1])return;var x=w[1],y;if(t.hasOwnProperty(x)){y=t[x];}else{t[x]=y={};r.forEach(function(z){y[z]=null;});}y[v.name]=v.values[0].value;});return t;},getPageInfo:function(r,s){var t='';g.get(t,r,s);},getPageInsights:function(r,s){r=k.formatParams(r);g.get('/insights',r,function(t){o(m.check.bind(m,l,[r,t],{metrics:JSON.stringify(r.metric),pageID:h.getPageID()}));s(k.formatInsightsResponse(t));});},getPageInsightsPerPost:function(r,s){r=k.formatParams(r);function t(u){return p(function(v,w){var x=!w?null:function(y){w(t(y));};u(q._formatPageInsightsPerPostResponse(r.metric,v),x);});}g.get('/insights',r,t(s));},getPostInsights:function(r,s){g.getRaw('/insights',r,function(t){s(j._formatPostInsightsResponse(r.metric,t));});},getPostsByIDs:function(r,s){r=k.formatParams(r);g.getPosts(r,s);},getPosts:function(r,s){r=k.formatParams(r);g.getPosts(r,p(s));},getTotalPageLikes:function(r){if(h.get('globalBrandV1ParentID')){var s=i.PERIOD_LIFETIME,t=h.get('mostRecentTimes')[i.PIPELINE_LIFETIME];q.getPageInsights({metric:['page_fans'],period:i.PERIOD_LIFETIME,until:t,since:n.utc.offset(t,-1)},function(u){r(u.values.page_fans[s]);});}else if(h.get('globalBrandV2RootID')){q.getPageInfo({fields:['country_page_likes']},function(u){r(u.country_page_likes);});}else q.getPageInfo({fields:['likes']},function(u){r(u.likes);});}};e.exports=q;},null);
__d("PagesMissions",["cx","ge","AsyncRequest","CSS","DOM","DOMScroll","Event","PagesBanzaiLogger","URI"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=600,q={lastHighlighted:null,registerObjectiveClickAction:function(r,s,t,u){m.listen(r,'click',function(){n.logData(u,null);return this[s](t);}.bind(this));},clickButton:function(r){if(r)r.click();},getElementWithClass:function(r,s){var t=h(r);if(!t)return;var u=k.scry(t,s);if(u.length>0)return u[0];return null;},scrollToAndHighlight:function(r,s){if(this.lastHighlighted){j.removeClass(this.lastHighlighted,"_4n2n");this.lastHighlighted=null;}var t=this.getElementWithClass(r,s);if(t){l.scrollTo(t,p);j.addClass(t,"_4n2n");this.lastHighlighted=t;}},goToURI:function(r){(new o(r)).go();},callAjaxEndpoint:function(r){new i().setURI(r).send();},PagesMissionsAddProfilePictureObjectiveInfoAction:function(r){this.scrollToAndHighlight('fbPageFinchProfilePic','.profilePic');var s=this.getElementWithClass('fbPageFinchProfilePic',r.selector);this.clickButton(s);return false;},PagesMissionsAddCoverPhotoObjectiveInfoAction:function(r){this.scrollToAndHighlight('fbProfileCover','.'+"_117o");this.clickButton(h('fbPagesCoverPhotoAddButton'));return false;},PagesMissionsAddContactInfoObjectiveInfoAction:function(r){this.callAjaxEndpoint(r.addContactInfoDialogURI);},PagesMissionsInviteFriendsObjectiveInfoAction:function(r){this.callAjaxEndpoint(r.inviteFriendsURI);},PagesMissionsImportEmailContactsObjectiveInfoAction:function(r){this.callAjaxEndpoint(r.contactsURI);},PagesMissionsPromotePageObjectiveInfoAction:function(r){this.callAjaxEndpoint(r.promotePageURI);},registerAddContactInfoDialogResponse:function(r){r.subscribe('success',function(s,event){var t=event.data.response;if(t.payload=='close_dialog'){r.hide();this.goToURI(window.location.pathname);}}.bind(this));}};e.exports=q;},null);
__d("ContextualDialogLockOnClick",["Event","LayerHideOnBlur","SubscriptionsHandler"],function(a,b,c,d,e,f,g,h,i){var j=1000;function k(l){"use strict";this.$ContextualDialogLockOnClick0=l;}k.prototype.enable=function(){"use strict";this.$ContextualDialogLockOnClick1=new i();this.$ContextualDialogLockOnClick1.addSubscriptions(this.$ContextualDialogLockOnClick0.subscribe('show',this.$ContextualDialogLockOnClick2.bind(this)),this.$ContextualDialogLockOnClick0.subscribe('hide',this.$ContextualDialogLockOnClick3.bind(this)),g.listen(this.$ContextualDialogLockOnClick0.getRoot(),'click',this.$ContextualDialogLockOnClick4.bind(this)),g.listen(this.$ContextualDialogLockOnClick0.getCausalElement(),'click',this.$ContextualDialogLockOnClick5.bind(this)));};k.prototype.disable=function(){"use strict";this.$ContextualDialogLockOnClick0.unlockHover();this.$ContextualDialogLockOnClick1.release();};k.prototype.$ContextualDialogLockOnClick2=function(){"use strict";if(this.$ContextualDialogLockOnClick0.hasBehavior(h)){this.$ContextualDialogLockOnClick0.disableBehavior(h);setTimeout(this.$ContextualDialogLockOnClick0.enableBehavior.bind(this.$ContextualDialogLockOnClick0,h),j);}};k.prototype.$ContextualDialogLockOnClick3=function(){"use strict";this.$ContextualDialogLockOnClick0.unlockHover();};k.prototype.$ContextualDialogLockOnClick4=function(){"use strict";this.$ContextualDialogLockOnClick0.lockHover();};k.prototype.$ContextualDialogLockOnClick5=function(){"use strict";this.$ContextualDialogLockOnClick0.lockHover();this.$ContextualDialogLockOnClick0.show();};e.exports=k;},null);
__d("PagesManagerSpringboardMetric.react",["ContextualDialogLockOnClick","ContextualLayerHideOnScroll","SpectrumIntegerScale","LayerFadeOnHide","LayerFadeOnShow","LayerHideOnTransition","LayerHideOnBlur","LayerHideOnEscape","LayerRemoveOnHide","Link.react","React","ReactLayeredComponentMixin","Style","UIPagelet","Vector","XUIContextualDialog.react","XUISpinner.react","XUIText.react","cx","ge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){var aa=q.PropTypes,ba=30*1000,ca=300,da=1e+06,ea=500,fa=25,ga=q.createClass({displayName:"PagesManagerSpringboardMetric",mixins:[r],propTypes:{adjustFlyoutPositionOnload:aa.bool,count:aa.number.isRequired,itemKey:aa.string.isRequired,flyoutWidth:aa.number,label:aa.string.isRequired,onFlyoutToggle:aa.func,pagelet:aa.object,hasFlyout:aa.bool,showFlyout:aa.bool},getDefaultProps:function(){return {hasFlyout:true};},getInitialState:function(){return {count:0};},componentDidMount:function(){this._onToggle(this.props.showFlyout);this._animateToNewCount(this.props.count);},componentWillReceiveProps:function(ha){if(ha.count!==this.props.count){this._expireCache();this._animateToNewCount(ha.count);}},render:function(){var ha=Math.round(this.state.count);if(ha>=da){ha=i().tickFormat()(ha);}else ha=i().tooltipFormat()(ha);var ia;if(this.props.hasFlyout){ia=q.createElement(p,q.__spread({},this.props,{ref:"metric"}),q.createElement("span",{className:"_5vh0"},ha),q.createElement("span",{className:"_5vh1"},this.props.label));}else ia=q.createElement(x,{size:"medium",display:"block",ref:"metric"},q.createElement("span",{className:"_5vh0"},ha),q.createElement("span",{className:"_xep"},this.props.label));return (q.createElement("li",{className:"_5vg_"},ia));},renderLayers:function(){if(!this.props.hasFlyout)return null;return {metricsFlyout:q.createElement(v,{behaviors:{ContextualDialogLockOnClick:g,ContextualLayerHideOnScroll:h,LayerFadeOnHide:j,LayerFadeOnShow:k,LayerHideOnTransition:l,LayerHideOnBlur:m,LayerHideOnEscape:n,LayerRemoveOnHide:o},contextRef:"metric",hoverContext:this.refs.metric.getDOMNode(),hoverShowDelay:ca,onToggle:this._onToggle,position:"left",shown:this.props.showFlyout,width:this.props.flyoutWidth},q.createElement("div",{className:"_5x0l",ref:"flyout"},q.createElement("div",{className:"_5x0m"},q.createElement(w,{size:"large"}))))};},_expireCache:function(){this._cacheExpires=0;},_onToggle:function(ha){if(this.props.onFlyoutToggle)this.props.onFlyoutToggle(ha,this.props.itemKey);if(!this.props.hasFlyout)return;if(ha){var ia=Date.now();if(ia>(this._cacheExpires||0)){this._cacheExpires=ia+ba;t.loadFromEndpoint(this.props.pagelet.name,this.refs.flyout.getDOMNode(),this.props.pagelet.data,this.props.adjustFlyoutPositionOnload?{handler:this._onFlyoutLoad}:null);}}},_onFlyoutLoad:function(){var ha=z('pagesManagerSpringboard');if(!ha)return;var ia=u.getElementPosition(this.refs.metric.getDOMNode()),ja=u.getElementPosition(ha),ka=ia.y-ja.y,la=u.getElementDimensions(this.refs.flyout.getDOMNode()).y;if(ka<la)s.set(this.refs.flyout.getDOMNode().offsetParent,'top',-ka+'px');},_animateToNewCount:function(ha){var ia=ea/fa,ja=ha-this.state.count,ka=ja/ia,la=0,ma=setInterval(function(){if(++la>=ia){clearInterval(ma);return this.setState({count:ha});}var na=this.state.count+ka;this.setState({count:na});}.bind(this),fa);}});e.exports=ga;},null);
__d("PagesManagerSpringboard.react",["ApiClient","Arbiter","AsyncRequest","BoostedPagelikeConstants","BoostedActionType","CustomCTAConstants","CctaConfirmationDialog.react","d3/time/day","DOM","ge","HubbleApiWrapper","HubbleConstants","HubbleContext","InsightsUtils","PagesManagerSpringboardMetric.react","React","ReactLayeredComponentMixin","Run","tidyEvent","PureStoreBasedStateMixin","CctaStore","URI","cx","fbt","invariant","mapObject","formatDate"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga){var ha=v.PropTypes,ia=['page_posts_impressions_unique','page_fan_adds_unique'],ja=2*60*1000,ka={ADS_RUNNING:'ads_running',CALL_TO_ACTION:'call_to_action',PAGE_LIKES:'page_likes',POST_REACH:'post_reach',QRCODE_SCANS:'qrcode_scans',NOTIFICATIONS:'notifications',MESSAGES:'messages'};function la(na){var oa=0;if(na)na.forEach(function(pa){oa+=pa;});return oa;}var ma=v.createClass({displayName:"PagesManagerSpringboard",mixins:[z(aa),w],propTypes:{context:ha.object,pageInfo:ha.object.isRequired,canSeePageLikeAds:ha.bool,canSeePagePostAds:ha.bool,activePageLikeAds:ha.number,activeBoostedPostAds:ha.number,unreadNotifications:ha.number,unreadMessages:ha.number,callToActionClicks:ha.number,callToActionPaidClicks:ha.number,canSeeMessages:ha.bool,canSeeInsights:ha.bool,canSeeLabelFans:ha.bool,initalCanSeeCallToAction:ha.bool,newLikesCount:ha.number,qrId:ha.number,qrScansCount:ha.number},statics:{calculateState:function(){return {showConfirmation:aa.getConfirmationDialog()};}},getInitialState:function(){var na=fa(this.props.mostRecentTimes,function(qa){return t.pacificSecondsToUTCDate(qa);}),oa=new Date(Math.min(na[r.PIPELINE_DAILY],na[r.PIPELINE_WEEKLY])),pa=n.utc.offset(oa,-7);return {activeFlyoutKey:null,postReach:0,pageLikes:0,callToActionClicks:0,callToActionPaidClicks:0,canSeeCallToAction:this.props.initialCanSeeCallToAction,activePageLikeAds:this.props.activePageLikeAds||0,activeBoostedPostAds:this.props.activeBoostedPostAds||0,unreadNotifications:this.props.unreadNotifications||0,unreadMessages:this.props.unreadMessages||0,insightSince:pa,insightUntil:oa};},componentWillMount:function(){if(this.props.canSeeInsights){ea(this.props.context);g.setClientID(this.props.context.appID);g.setAccessToken(this.props.context.accessToken);s.setContext(this.props.context);this._gatherInsights();}if(this.props.canSeeMessages){var na=p('pages_manager_flyout_messages');if(na)o.remove(na);}var oa=ba.getRequestURI().getQueryData();if(oa.promoted_like)new i().setURI('/ajax/ads/boosted_pagelike/create.php').setData({pageid:this.props.pageInfo.id,ref:oa.ref}).send();this._cctaSubscription=aa.subscribe('change',function(){if(aa.isInitialized())this.setState({canSeeCallToAction:!!aa.getData().cctaID});}.bind(this));},componentDidMount:function(){if(this.props.canSeeInsights){var na=setInterval(this._gatherInsights,ja);x.onLeave(function(){clearInterval(na);});}if(this.props.canSeeMessages)y(h.subscribe('pagesManagerMessaging/messageUnreadCountUpdated',function(oa,pa){this.setState({unreadMessages:pa.metricCount});}.bind(this)));if(this.props.canSeePageLikeAds)y(h.subscribe(j.PANEL_STATUS_CHANGE_FINISH,function(oa,pa){var qa=pa.active?1:0;if(this.state.activePageLikeAds!==qa&&pa.action_type===k.PAGELIKE)this.setState({activeFlyoutKey:ka.PAGE_LIKES,activePageLikeAds:qa});}.bind(this)));if(this.state.canSeeCallToAction)y(h.subscribe(l.SHOW_FLYOUT,function(oa,pa){this.setState({activeFlyoutKey:ka.CALL_TO_ACTION});}.bind(this)));},renderLayers:function(){if(aa.getConfirmationDialog())return (v.createElement(m,{createButton:this.refs.ctaSpringBoard,pageid:this.props.pageInfo.id}));},render:function(){return (v.createElement("div",{className:"_5vgz",id:"pagesManagerSpringboard"},this._renderThisWeekData(),this._renderUnread()));},_renderThisWeekData:function(){var na=[];na.push(this._renderAds());na.push(this._renderNewLikes());na.push(this._renderPostReach());na.push(this._renderQRScans());na.push(this._renderCallToAction());if(!na.length)return null;na.unshift(v.createElement("div",{className:"_5vg-"},v.createElement("h4",null,"This week")));return na;},_renderAds:function(){if(!this.props.showAdsRunning||(!this.props.canSeePageLikeAds&&!this.props.canSeePagePostAds))return null;var na=(this.props.canSeePageLikeAds?this.state.activePageLikeAds:0)+(this.props.canSeePagePostAds?this.state.activeBoostedPostAds:0);return (v.createElement("ul",null,v.createElement(u,{itemKey:ka.ADS_RUNNING,showFlyout:this.state.activeFlyoutKey===ka.ADS_RUNNING,onFlyoutToggle:this._onFlyoutToggle,pagelet:{name:'PagesManagerSpringboardActiveAdsPagelet',data:{page_id:this.props.pageInfo.id,page_like_eligible:this.props.canSeePageLikeAds,page_post_eligible:this.props.canSeePagePostAds,active_boosted_post_ads:this.state.activeBoostedPostAds}},flyoutWidth:290,count:na,label:da._({"Ad":"Ad Running","Ads":"Ads Running"},[da['enum'](this.state.activeAdCount===1?'Ad':'Ads',{Ad:"Ad",Ads:"Ads"})])})));},_renderNewLikes:function(){var na=this.props.pageInfo,oa=this.props.canSeeLabelFans?372:290,pa=n.utc.offset(this.state.insightUntil,-1),qa=0;if(this.props.canSeeInsights){qa=this.state.pageLikes;}else qa=this.props.newLikesCount;return (v.createElement("ul",null,v.createElement(u,{itemKey:ka.PAGE_LIKES,showFlyout:this.state.activeFlyoutKey===ka.PAGE_LIKES,onFlyoutToggle:this._onFlyoutToggle,pagelet:{name:'PagesManagerSpringboardNewLikesPagelet',data:{page_id:na.id,count:qa,width:oa,since:ga(this.state.insightSince,'m/d/Y',{utc:true}),until:ga(pa,'m/d/Y',{utc:true}),since_timestamp:t.dateToSeconds(this.state.insightSince)}},flyoutWidth:oa,count:qa,label:da._({"Like":"Page Like","Likes":"Page Likes"},[da['enum'](this.state.pageLikes===1?'Like':'Likes',{Like:"Like",Likes:"Likes"})])})));},_renderPostReach:function(){if(!this.props.canSeeInsights)return null;var na=this.props.pageInfo,oa=n.utc.offset(this.state.insightUntil,-1);return (v.createElement("ul",null,v.createElement(u,{itemKey:ka.POST_REACH,showFlyout:this.state.activeFlyoutKey===ka.POST_REACH,onFlyoutToggle:this._onFlyoutToggle,pagelet:{name:'PagesManagerSpringboardPostReachPagelet',data:{page_id:na.id,context:this.props.context,since:ga(this.state.insightSince,'m/d/Y',{utc:true}),until:ga(oa,'m/d/Y',{utc:true})}},flyoutWidth:624,count:this.state.postReach,label:"Post Reach"})));},_renderQRScans:function(){if(!this.props.hasValidQRCode)return null;var na=this.props.qrScansCount,oa=430,pa=n.utc.offset(this.state.insightUntil,-1);return (v.createElement("ul",null,v.createElement(u,{itemKey:ka.QRCODE_SCANS,showFlyout:this.state.activeFlyoutKey===ka.QRCODE_SCANS,onFlyoutToggle:this._onFlyoutToggle,pagelet:{name:'PagesManagerSpringboardQRScansPagelet',data:{page_id:this.props.pageInfo.id,qr_id:this.props.qrId,since:ga(this.state.insightSince,'m/d/Y',{utc:true}),since_timestamp:t.dateToSeconds(this.state.insightSince),until:ga(pa,'m/d/Y',{utc:true})}},flyoutWidth:oa,count:na,label:da._({"Scan":"QRCode Scan","Scans":"QRCode Scans"},[da['enum'](na===1?'Scan':'Scans',{Scan:"Scan",Scans:"Scans"})])})));},_renderCallToAction:function(){if(!this.state.canSeeCallToAction)return null;return (v.createElement("ul",null,v.createElement(u,{ref:"ctaSpringBoard",itemKey:ka.CALL_TO_ACTION,showFlyout:this.state.activeFlyoutKey===ka.CALL_TO_ACTION,onFlyoutToggle:this._onFlyoutToggle,pagelet:{name:'PagesManagerSpringboardCallToActionPagelet',data:{page_id:this.props.pageInfo.id}},count:this.props.callToActionClicks+this.props.callToActionPaidClicks,flyoutWidth:328,label:"CTA Clicks"})));},_renderUnread:function(){var na=this.props.pageInfo,oa=this.state.unreadNotifications===1?'Notification':'Notifications',pa=this.state.unreadMessages===1?'Message':'Messages';return [v.createElement("div",{className:"_5vg-"},v.createElement("h4",null,"Unread")),v.createElement("ul",null,v.createElement(u,{itemKey:ka.NOTIFICATIONS,showFlyout:this.state.activeFlyoutKey===ka.NOTIFICATIONS,onFlyoutToggle:this._onFlyoutToggle,adjustFlyoutPositionOnload:true,pagelet:{name:'PagesManagerSpringboardNotificationsPagelet',data:{page_id:na.id}},flyoutWidth:430,count:this.state.unreadNotifications,label:da._({"Notification":"Notification","Notifications":"Notifications"},[da['enum'](oa,{Notification:"Notification",Notifications:"Notifications"})])}),(this.props.canSeeMessages)?v.createElement(u,{itemKey:ka.MESSAGES,showFlyout:this.state.activeFlyoutKey===ka.MESSAGES,onFlyoutToggle:this._onFlyoutToggle,adjustFlyoutPositionOnload:true,pagelet:{name:'PagesManagerSpringboardMessagesPagelet',data:{page_id:na.id}},flyoutWidth:430,count:this.state.unreadMessages,label:da._({"Message":"Message","Messages":"Messages"},[da['enum'](pa,{Message:"Message",Messages:"Messages"})])}):null)];},_gatherInsights:function(){q.getPageInsights({metric:ia,since:this.state.insightSince,until:this.state.insightUntil},this._handleNewData);},_handleNewData:function(na){var oa=na.values,pa=[this.state.pageLikes];if(oa.page_fan_adds_unique){var qa=r.PERIOD_DAY;pa=oa.page_fan_adds_unique[qa].slice(-7);}var ra=[this.state.postReach];if(oa.page_posts_impressions_unique){var sa=r.PERIOD_WEEK;ra=oa.page_posts_impressions_unique[sa].slice(6);}this.setState({pageLikes:la(pa),postReach:la(ra)});},_onFlyoutToggle:function(na,oa){if(na){this.setState({activeFlyoutKey:oa});}else if(this.state.activeFlyoutKey===oa)this.setState({activeFlyoutKey:null});}});e.exports=ma;},null);