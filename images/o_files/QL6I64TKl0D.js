/*!CK:853366750!*//*1422271223,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["Ok+wZ"]); }

__d("TimelineInfoReviewParam",[],function(a,b,c,d,e,f){e.exports={ACTION:"action",ENTITY_ID:"ent",EXISTING_ERROR:"error",ITEM_TYPE:"type",ITEM_TOKEN:"i_token",MULTI_CHOICE_OPTION:"option",QUERY:"query",REPLACE_ID:"replace_id",QUESTION_SESSION:"session",QUESTION_TOKEN:"token",CURSOR:"cursor",DATE:"date",DAY:"day",DISPLAY_NAME:"is_display_name",END_DAY:"end_day",END_MONTH:"end_month",END_YEAR:"end_year",ENTITY_IDS:"ents",ENTITY_IDS_TYPEAHEAD:"ents_ta",GENERIC_TEXT:"generic_text",HUB_ID:"hub_id",LIKED:"liked",LOCATION_ID:"location_id",MLE_TYPES:"valid_mle_types",TITLE:"title",MONTH:"month",NO_VALID_ANSWER_ID:"no_answer",PREVIOUS_PROGRESS:"prev_prog",START_DAY:"start_day",START_MONTH:"start_month",START_YEAR:"start_year",TEXT:"text",TEXT_TYPE:"text_type",YEAR:"year",LOCATION:"location",RENDER_TIME:"render_t",REQUEST_ID:"request",RETHROW_ERRORS:"rethrow_errors",OTHER_ID:"other_id",FIELD_TYPE:"field_type",BIRTHDAY:"birthday",CITY_ID:"city_id",COLLEGE_ID:"college_id",COLLEGE_TEXT:"college_text",CONTAINER_ID:"container_id",COUNTRY_CODE:"country",EMAIL_ADDRESS:"email",EMAIL_FBID:"email_fbid",EMAIL_FBIDS:"email_fbids",ENTITY_ID_TYPEAHEAD:"ent_ta",FAMILY_ANNIVERSARIES:"family_anniversaries",FAMILY_ANNIVERSARIES_IN_MS:"family_anniversaries_in_ms",FAMILY_ANNIVERSARY_DAYS:"family_anniversary_days",FAMILY_ANNIVERSARY_MONTHS:"family_anniversary_months",FAMILY_ANNIVERSARY_YEARS:"family_anniversary_years",FAMILY_BIRTHDAYS:"family_birthdays",FAMILY_BIRTHDAY_DAYS:"family_birthday_days",FAMILY_BIRTHDAY_MONTHS:"family_birthday_months",FAMILY_BIRTHDAY_YEARS:"family_birthday_years",FAMILY_BIRTHDAYS_IN_MS:"family_birthdays_in_ms",FAMILY_IDS:"family_ids",FAMILY_RELATIONS:"family_relations",FAMILY_TEXT_NAMES:"family_text_names",GRAD_SCHOOL_ID:"grad_id",GRAD_SCHOOL_TEXT:"grad_text",HIGH_SCHOOL_ID:"hs_id",HIGH_SCHOOL_TEXT:"hs_text",NAME_PRONUNCIATION_FIRSTNAME_RADIO:"first_radio",NAME_PRONUNCIATION_LASTNAME_RADIO:"last_radio",NAME_PRONUNCIATION_FIRSTNAME_CUSTOM:"first_input",NAME_PRONUNCIATION_LASTNAME_CUSTOM:"last_input",NEIGHBORHOOD:"neighborhood",ONLY_SHARE_WITH:"only_share",PHONE_FBIDS:"phone_fbids",PHONE_FBID:"phone_fbid",PHONE_NUMBER:"phone",PHONE_TYPE:"phone_type",POSTAL_CODE:"postal_code",PRIVACY_X:"priv_x",STREET_ADDRESS:"address",USE_EXISTING:"existing",SAVE:"save",SKIP:"skip"};},null);
__d("PageAdminUpsellUtils",["AsyncRequest","DOM","PagesTimelineController","copyProperties","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j,k){var l={};j(l,{refreshUnits:function(m,n){new g().setURI('/ajax/pages/upsell/refresh').setData({target:m,initial_load:n}).setErrorHandler(k).send();},replaceUnits:function(m,n){var o=h.scry(document.body,'#rightCol .ego_column');if(o.length>0)h.replace(o[0],m);for(var p=1;p<o.length;++p)h.replace(o[p],m.cloneNode(true));if(n)i.adjustAds();}});e.exports=l;},null);
__d("BoostedPagelikePanel",["BoostedActionType","BoostedPagelikeConstants","UIPagelet","CSS","Arbiter"],function(a,b,c,d,e,f,g,h,i,j,k){var l={},m={};function n(o,p,q,r){"use strict";this.$BoostedPagelikePanel0=o;this.$BoostedPagelikePanel1=p;this.$BoostedPagelikePanel2=q;this.$BoostedPagelikePanel3=r;if(p in l)k.unsubscribe(l[p]);l[p]=k.subscribe(h.PANEL_STATUS_CHANGE,function(s,t){if(t.action_type===g.PAGELIKE)this.$BoostedPagelikePanel5();}.bind(this));if(p in m)k.unsubscribe(m[p]);m[p]=k.subscribe(h.PANEL_STATUS_CHANGE_FINISH,function(s,t){if(t.action_type===g.PAGELIKE)this.$BoostedPagelikePanel6();}.bind(this));}n.prototype.$BoostedPagelikePanel5=function(){"use strict";j.hide(this.$BoostedPagelikePanel2);j.show(this.$BoostedPagelikePanel3);};n.prototype.$BoostedPagelikePanel6=function(){"use strict";switch(this.$BoostedPagelikePanel1){case h.ADMINPANEL:i.loadFromEndpoint('PageAdminPanelBoostedPagelikePagelet','admin_panel_likes',{profile_id:this.$BoostedPagelikePanel0});break;case h.PAGESMANAGER:i.loadFromEndpoint('WebPagesManagerBuildAudienceController','build_audience',{page_id:this.$BoostedPagelikePanel0});break;case h.SPRINGBOARDFLYOUT:i.loadFromEndpoint('PagesManagerSpringboardActiveAdsPagelet','boosted_pagelike/springboard',{page_id:this.$BoostedPagelikePanel0});break;case h.PAGETABLHS:var o='PagePeoplePagelet_'+this.$BoostedPagelikePanel0;i.loadFromEndpoint('PagePeoplePagelet',o,{page:this.$BoostedPagelikePanel0,column:'side'});break;default:throw new Error(this.$BoostedPagelikePanel1+' is invalid panel version');}};e.exports=n;},null);
__d("BoostedPagelikeUtils",["Event","copyProperties"],function(a,b,c,d,e,f,g,h){var i={};h(i,{addTooltipIfTruncated:function(j,k,l,m){l=l?l:j;m=m?m:j;g.listen(l,'mouseover',function(){var n=m.offsetWidth<m.scrollWidth;if(n&&!j.title)j.title=k;});},redirectClickToButton:function(j,k){g.listen(j,'click',function(){if(!k.disabled)k.click();});}});e.exports=i;},null);
__d("BoostedWebsitePagesManagerPromotionButton",["Arbiter","ArbiterMixin","BoostedPagelikeConstants","BoostedActionType","CSS","mixin"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=l(h);for(var n in m)if(m.hasOwnProperty(n))p[n]=m[n];var o=m===null?null:m.prototype;p.prototype=Object.create(o);p.prototype.constructor=p;p.__superConstructor__=m;function p(q,r,s,t,u){"use strict";this.$BoostedWebsitePagesManagerPromotionButton0=q;this.$BoostedWebsitePagesManagerPromotionButton1=r;this.$BoostedWebsitePagesManagerPromotionButton2=s;this.$BoostedWebsitePagesManagerPromotionButton3=t;this.$BoostedWebsitePagesManagerPromotionButton4=u;this.$BoostedWebsitePagesManagerPromotionButton5();}p.prototype.$BoostedWebsitePagesManagerPromotionButton5=function(){"use strict";g.subscribe(i.PANEL_STATUS_CHANGE_FINISH,function(q,r){if(r.action_type===j.WEBSITE)if(this.$BoostedWebsitePagesManagerPromotionButton2!==r.active){this.$BoostedWebsitePagesManagerPromotionButton2=r.active;this.$BoostedWebsitePagesManagerPromotionButton7();}}.bind(this));};p.prototype.$BoostedWebsitePagesManagerPromotionButton7=function(){"use strict";if(this.$BoostedWebsitePagesManagerPromotionButton2){k.hide(this.$BoostedWebsitePagesManagerPromotionButton3);k.show(this.$BoostedWebsitePagesManagerPromotionButton4);}else{k.show(this.$BoostedWebsitePagesManagerPromotionButton3);k.hide(this.$BoostedWebsitePagesManagerPromotionButton4);}};e.exports=p;},null);
__d("CalendarUtils",["DateConsts"],function(a,b,c,d,e,f,g){function h(j,k,l,m){var n=[],o=m.order;for(var p=0;p<3;++p)if(o[p]==='d'){n.push(j);}else if(o[p]==='m'){n.push(k);}else n.push(l);return n.join(m.separator);}var i={placeholderDateString:function(j){return h(g.DATE_PLACEHOLDER,g.MONTH_PLACEHOLDER,g.YEAR_PLACEHOLDER,j);},dateToString:function(j,k){return h(j.getDate(),j.getMonth()+1,j.getFullYear(),k);},utcDateToString:function(j,k){return h(j.getUTCDate(),j.getUTCMonth()+1,j.getUTCFullYear(),k);},stringToDate:function(j,k){var l,m,n,o=j.split(/[/.,\s-]+/);if(o.length<3)return false;for(var p=0;p<3;++p){var q=o.shift();if(k[p]==='d'){l=parseInt(q,10);if(isNaN(l)||l<1)return false;}else if(k[p]==='m'){m=parseInt(q,10)-1;if(isNaN(m)||m<0||m>11)return false;}else{n=parseInt(q,10);if(n<100&&n>=0&&q.length==2){var r=(new Date()).getFullYear();if(Math.abs(r/100-n)>=2){var s=n+Math.floor(r/100)*100;n=s>r+4?s-100:s;}}if(isNaN(n)||n<1000)return false;}}if(new Date(n,m+1,0).getDate()<l)return false;return new Date(n,m,l);}};e.exports=i;},null);
__d("DatePickerInput.react",["CalendarUtils","DateFormatConfig","DatePickerRestraints","InputSelection","Keys","React","ReactComponentWithPureRenderMixin","UTCUtils","cloneWithProps","cx","emptyFunction","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';var s=l.PropTypes,t={order:h.numericDateOrder,separator:h.numericDateSeparator};function u(x){var y=/[1-9]{1}[0-9]*/g,z,aa={},ba=0;while(z=y.exec(x)){aa[t.order[ba]]=z;ba++;}return aa;}function v(x){if(!x)return '';return g.utcDateToString(new Date(x),t);}var w=l.createClass({displayName:"DatePickerInput",mixins:[m],propTypes:{dateRestraints:s.arrayOf(s.func),icon:s.element,name:s.string,onBlur:s.func,onChange:s.func,onDateRemoved:s.func,onFocus:s.func,onInvalidDateSelected:s.func,placeholder:s.string,selectTime:s.number},getDefaultProps:function(){return {onBlur:q,onChange:q,onDateRemoved:q,onFocus:q,onInvalidDateSelected:q,placeholder:g.placeholderDateString(t)};},getInitialState:function(){return {inputValue:v(this.props.selectTime)};},componentWillReceiveProps:function(x){if(this.props.selectTime||x.selectTime)this.setState({inputValue:v(x.selectTime)});},componentDidUpdate:function(){if(this.refs.inputBox&&this.state.inputValue&&this._partName){var x=u(this.state.inputValue),y=x[this._partName];j.set(this.refs.inputBox.getDOMNode(),y.index,y.index+y[0].length);}delete this._partName;},onChange:function(event){var x=event.target.value;if(x){var y=g.stringToDate(x,t.order),z=false;if(y){z=i.isValidDate(y,this.props.dateRestraints);var aa=new Date(n.dateToUTC(y));if(z){this.props.onChange(aa);}else this.props.onInvalidDateSelected(aa);}}else this.props.onDateRemoved();if(!y||!z)this.setState({inputValue:x});},onIconClick:function(event){this.refs.inputBox.getDOMNode().focus();},onKeyDown:function(event){var x=event.keyCode;if(x==k.RETURN){event.preventDefault();this.props.onBlur();return;}if(x===k.TAB){this.props.onBlur();return;}if(x==k.UP||x==k.DOWN){event.preventDefault();var y=x==k.UP?1:-1,z=event.target,aa=j.get(z),ba=u(z.value),ca=new Date(this.props.selectTime);for(var da in ba){var ea=ba[da],fa=ea.index+ea[0].length;if(aa.start>=ea.index&&aa.start<=fa){switch(da){case 'm':ca.setMonth(ca.getMonth()+y);break;case 'd':ca.setDate(ca.getDate()+y);break;case 'y':ca.setFullYear(ca.getFullYear()+y);break;}break;}}if(i.isValidDate(ca,this.props.dateRestraints)){this._partName=da;this.props.onChange(ca);}}},onKeyUp:function(event){var x=event.keyCode;if(x==k.UP||x==k.DOWN)event.preventDefault();if(x==k.ESC)this.props.onBlur();},render:function(){var x=this.props,y=x.icon,z=x.selectTime,aa=z?n.dateToUTCDate(new Date(z)).getTime():'';if(y)y=o(y,{className:"_3smn",onClick:this.onIconClick});var ba=r(this.props.className,"_3smo");return (l.createElement("span",{className:ba},y,l.createElement("input",{ref:"inputBox",className:"_3smp",type:"text",placeholder:this.props.placeholder,value:this.state.inputValue,onChange:this.onChange,onFocus:this.props.onFocus,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp}),l.createElement("input",{type:"hidden",name:this.props.name,value:aa})));}});e.exports=w;},null);
__d("XUIMonthPagerCalendar.react",["ReactPropTypes","React","Image.react","UTCUtils","XUICalendar.react","cx","fbt","formatDate","ix","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=h.createClass({displayName:"XUIMonthPagerCalendar",propTypes:{dateRestraints:g.array,focusTime:g.number.isRequired,selectTime:g.number,allowVariableRowCount:g.bool,highlightedTimes:g.array,onFocusDateChange:g.instanceOf(Function).isRequired,onSelectDateChange:g.instanceOf(Function).isRequired,dayInnerFormatter:g.func},pageByMonthDelta:function(r){var s=new Date(this.props.focusTime);s.setUTCDate(1);s.setUTCMonth(s.getUTCMonth()+r);this.props.onFocusDateChange(s);},onPagerPrev:function(){this.pageByMonthDelta(-1);},onPagerNext:function(){this.pageByMonthDelta(1);},render:function(){var r=this.props,s=j.dateToUTCDate(new Date(r.focusTime)),t=m._("{month} {year}",[m.param("month",n(s,'F',{skipPatternLocalization:true})),m.param("year",s.getUTCFullYear())]);return (h.createElement("div",h.__spread({},this.props,{className:p(this.props.className,"_5hpp")}),h.createElement("div",{className:"_5hpq"},h.createElement("h2",{className:"_5hpr _c24"},t),h.createElement("button",{className:"_5hps _5hpt",onClick:this.onPagerPrev},h.createElement(i,{src:o('/images/ui/x/glyphs/dark/triangle-left_s.png'),alt:"Previous month"})),h.createElement("button",{className:"_5hps _5hpu",onClick:this.onPagerNext},h.createElement(i,{src:o('/images/ui/x/glyphs/dark/triangle-right_s.png'),alt:"Next month"}))),h.createElement(k,{dateRestraints:r.dateRestraints,focusTime:r.focusTime,selectTime:r.selectTime,highlightedTimes:r.highlightedTimes,allowVariableRowCount:r.allowVariableRowCount,onFocusDateChange:r.onFocusDateChange,onSelectDateChange:r.onSelectDateChange,dayInnerFormatter:r.dayInnerFormatter})));}});e.exports=q;},null);
__d("AbstractCheckboxInput.react",["React","cx","invariant","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){var k=g.createClass({displayName:"AbstractCheckboxInput",propTypes:{tooltip:g.PropTypes.string},render:function(){i(!this.props.children||this.props.children.length===0);var l=j(this.props.className,"_kv1"),m=g.createElement("input",g.__spread({},this.props,{className:null,type:"checkbox"}),undefined);return (g.createElement("label",{className:l},m,g.createElement("span",{"data-hover":this.props.tooltip?'tooltip':null,"aria-label":this.props.tooltip})));}});e.exports=k;},null);
__d("XUICheckboxInput.react",["AbstractCheckboxInput.react","React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){var k=h.createClass({displayName:"XUICheckboxInput",render:function(){return (h.createElement(g,h.__spread({},this.props,{className:j(this.props.className,"_55sg")}),(void 0)));}});e.exports=k;},null);
__d("XUIDatePicker.react",["CalendarUtils","ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","DateFormatConfig","DatePickerInput.react","DatePickerRestraints","LayerTogglerContext","React","Image.react","ReactLayeredComponentMixin","Toggler","UTCUtils","XUICard.react","XUICalendar.react","XUIMonthPagerCalendar.react","cx","emptyFunction","invariant","ix","joinClasses","merge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){var ca={ContextualLayerAutoFlip:i,ContextualLayerUpdateOnScroll:j,LayerTogglerContext:n},da={order:k.numericDateOrder,separator:k.numericDateSeparator};function ea(ja){var ka=new Date();if(ja){ka.setTime(ja);}else{var la=s.dateToUTC(ka);ka.setTime(la);}return u.normalizeDate(ka).getTime();}function fa(ja){var ka=/^\d{4}-\d{2}-\d{2}$/.test(ja);y(ka);var la=Date.parse(ja);y(la);return la;}function ga(ja){y(!ja.initialDate||!ja.initialTime);return ja.initialDate?fa(ja.initialDate):ja.initialTime;}function ha(ja,ka){var la=ga(ja);if(!ka&&ja.initialFocusTime)la=ja.initialFocusTime;return ea(la);}var ia=o.createClass({displayName:"XUIDatePicker",mixins:[q],propTypes:{name:o.PropTypes.string,initialDate:o.PropTypes.string,initialTime:o.PropTypes.number,initialFocusTime:o.PropTypes.number,shouldSetDefaultDate:o.PropTypes.bool,earliestDate:o.PropTypes.number,latestDate:o.PropTypes.number,dateRestraints:o.PropTypes.array,highlightedTimes:o.PropTypes.array,onCalendarSelectDateChange:o.PropTypes.func,onInvalidDateSelected:o.PropTypes.func,onDateRemoved:o.PropTypes.func,icon:o.PropTypes.element,placeholder:o.PropTypes.string,dayInnerFormatter:o.PropTypes.func,calendar:o.PropTypes.func,calendarProps:o.PropTypes.object,behaviors:o.PropTypes.object},getDefaultProps:function(){return {shouldSetDefaultDate:true,onCalendarSelectDateChange:x,onInvalidDateSelected:x,onDateRemoved:x,placeholder:g.placeholderDateString(da),calendar:v,icon:o.createElement(p,{src:z('/images/calendar/calendar_icon.png')})};},togglerSub:null,getInitialState:function(){return ba(this._calculateState(this.props),{showLayer:false});},componentWillReceiveProps:function(ja){this.setState(this._calculateState(ja));},_calculateState:function(ja){var ka=ga(ja),la=ea(ka),ma={selectTime:this.props.shouldSetDefaultDate||ka?la:null};if(!this.state||!this.state.selectTime||la!==this.state.selectTime)ma.focusTime=ha(ja,this.state);return ma;},componentWillUnmount:function(){this.removeSubscriptions();},removeSubscriptions:function(){this.togglerSub&&this.togglerSub.unsubscribe();this.togglerSub=null;},renderLayers:function(){if(!this.state.showLayer)return {};var ja=this.props.calendar;return {layer:o.createElement(h,{contextRef:"inputBox",position:"below",offsetY:3,behaviors:this._getBehaviors(),shown:this.state.showLayer},o.createElement(t,{className:"_5c6i"},o.createElement(ja,o.__spread({},this.props.calendarProps,{highlightedTimes:this.props.highlightedTimes,dateRestraints:this._getDateRestraintsFromProps(this.props),focusTime:this.state.focusTime,selectTime:this.state.selectTime,onFocusDateChange:this.onCalendarFocusDateChange,onSelectDateChange:function(ka){this.onCalendarSelectDateChange(ka);this._hide();}.bind(this),dayInnerFormatter:this.props.dayInnerFormatter}))))};},_getBehaviors:function(){return Object.assign({},ca,this.props.behaviors);},_hide:function(){r.hide(this.getDOMNode());},onCalendarFocusDateChange:function(ja){this.setState({focusTime:ja.getTime()});},onCalendarSelectDateChange:function(ja){this.setState({focusTime:ja.getTime(),selectTime:ja.getTime()});this.props.onCalendarSelectDateChange(ja);},onDateRemoved:function(){this.setState({selectTime:null});this.props.onDateRemoved();},onInvalidDateSelected:function(ja){this.setState({selectTime:null});this.props.onInvalidDateSelected(ja);},onTogglerShowOrHide:function(ja,ka){if(ka.active===this.getDOMNode())if(ja=='show'){this.setState({showLayer:true});}else{this.removeSubscriptions();this.setState({showLayer:false});}},onInputFocus:function(){this.removeSubscriptions();this.togglerSub=r.subscribe(['show','hide'],this.onTogglerShowOrHide);r.show(this.getDOMNode());},_getDateRestraintsFromProps:function(ja){if(ja.dateRestraints)return ja.dateRestraints;var ka=[];if(ja.earliestDate)ka.push(m.enforceDateIsNoEarlierThan(new Date(ja.earliestDate*1000)));if(ja.latestDate)ka.push(m.enforceDateIsNoLaterThan(new Date(ja.latestDate*1000)));return ka;},render:function(){return (o.createElement(l,o.__spread({},this.props,{className:aa(this.props.className,"_5c6j"),dateRestraints:this._getDateRestraintsFromProps(this.props),icon:this.props.icon,name:this.props.name,onBlur:this._hide,onChange:this.onCalendarSelectDateChange,onDateRemoved:this.onDateRemoved,onFocus:this.onInputFocus,onInvalidDateSelected:this.onInvalidDateSelected,placeholder:this.props.placeholder,ref:"inputBox",selectTime:this.state.selectTime})));}});e.exports=ia;},null);
__d("ProgressiveDatepickerMixin",["DateConsts","TimelineInfoReviewParam","React"],function(a,b,c,d,e,f,g,h,i){var j={propTypes:{descendingYears:i.PropTypes.bool,initialDay:function(k,l,m){var n=k.initialYear,o=k.initialMonth,p=k.initialDay;if(!p)return;var q=o&&n&&p<=g.getDaysInMonth(n,o);if(!q)return new Error('A valid initialYear and initialMonth must be provided if '+'initialDay is set.');return i.PropTypes.number.call(this,k,l,m);},initialMonth:function(k,l,m){if(k.initialMonth&&!k.initialYear)return new Error('A valid initialYear must be provided if initialMonth is set.');return i.PropTypes.number.call(this,k,l,m);},initialYear:i.PropTypes.number,inputPrefix:i.PropTypes.string,maxTime:i.PropTypes.number.isRequired,minTime:i.PropTypes.number.isRequired,minTimeUnit:i.PropTypes.oneOf(['day','month','year']),onDateChange:i.PropTypes.func},getDefaultProps:function(){return {descendingYears:false,initialYear:0,initialMonth:0,initialDay:0,inputPrefix:'',minTimeUnit:'year'};},getInitialState:function(){return {day:this.props.initialDay,month:this.props.initialMonth,year:this.props.initialYear};},clearDate:function(){this.setState(this.getInitialState());},_getDayName:function(){return this.props.inputPrefix===''?h.DAY:this.props.inputPrefix+'_'+h.DAY;},_getMonthName:function(){return this.props.inputPrefix===''?h.MONTH:this.props.inputPrefix+'_'+h.MONTH;},_getYearName:function(){return this.props.inputPrefix===''?h.YEAR:this.props.inputPrefix+'_'+h.YEAR;},_getMinDate:function(){return new Date(this.props.minTime*g.MS_PER_SEC);},_getMinYear:function(){return this._getMinDate().getFullYear();},_getMinMonth:function(){return this._getMinDate().getMonth()+1;},_getMinDay:function(){return this._getMinDate().getDate();},_isMinYear:function(){return this.state.year===this._getMinYear();},_isMinYearAndMonth:function(){return this._isMinYear()&&this.state.month===this._getMinMonth();},_getMaxDate:function(){return new Date(this.props.maxTime*g.MS_PER_SEC);},_getMaxYear:function(){return this._getMaxDate().getFullYear();},_getMaxMonth:function(){return this._getMaxDate().getMonth()+1;},_getMaxDay:function(){return this._getMaxDate().getDate();},_isMaxYear:function(){return this.state.year===this._getMaxYear();},_isMaxYearAndMonth:function(){return this._isMaxYear()&&this.state.month===this._getMaxMonth();},_getCurrentDate:function(){return new Date(this.state.year,!this.state.month?0:this.state.month-1,(this.state.year&&!this.state.day)?1:this.state.day).getTime();},getCurrentDateInSeconds:function(){return this._getCurrentDate()/g.MS_PER_SEC;},getMaxPossibleDateInSeconds:function(){var k={year:this.state.year,month:this.state.month,day:this.state.day};if(!k.day)if(k.month){k.month+=1;}else if(k.year){k.year+=1;k.day=1;}var l=new Date(k.year,!k.month?0:k.month-1,k.day);return l.getTime()/g.MS_PER_SEC;},_onYearChange:function(event){var k=(event.target)?event.target.value:event.value;this._onDateChange({year:parseInt(k,10),month:this.state.month,day:this.state.day});},_onMonthChange:function(event){var k=(event.target)?event.target.value:event.value;this._onDateChange({year:this.state.year,month:parseInt(k,10),day:this.state.day});},_onDayChange:function(event){var k=(event.target)?event.target.value:event.value;this._onDateChange({year:this.state.year,month:this.state.month,day:parseInt(k,10)});},_onDateChange:function(k){var l=this._getValidDate(k);this.setState(l,function(){this.props.onDateChange&&this.props.onDateChange(l);}.bind(this));},_getValidDate:function(k,l,m){if(typeof l==='undefined')l=new Date(this.props.minTime*g.MS_PER_SEC);if(typeof m==='undefined')m=new Date(this.props.maxTime*g.MS_PER_SEC);var n=k.year,o=k.month,p=k.day;if(n){if(n<=l.getFullYear()){n=l.getFullYear();if(o&&o<=l.getMonth()+1){o=l.getMonth()+1;if(p&&p<l.getDate())p=l.getDate();}}else if(n>=m.getFullYear()){n=m.getFullYear();if(o&&o>=m.getMonth()+1){o=m.getMonth()+1;if(p&&p>m.getDate())p=m.getDate();}}if(o){if(p&&p>g.getDaysInMonth(n,o))p=g.getDaysInMonth(n,o);}else p=0;}else o=p=0;return {year:n,month:o,day:p};},componentWillReceiveProps:function(k){var l=new Date(k.minTime*g.MS_PER_SEC),m=new Date(k.maxTime*g.MS_PER_SEC);this.setState(this._getValidDate(this.state,l,m));}};e.exports=j;},null);
__d("XUIProgressiveDatepicker.react",["DateConsts","ProgressiveDatepickerMixin","React","InlineBlock.react","XUISelector.react","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=k.Option,n=i.createClass({displayName:"TimelineProgressiveDatepicker",mixins:[h],render:function(){var o=[];for(var p=this._getMinYear();p<=this._getMaxYear();p++){var q=i.createElement(m,{title:p,value:p},p);this.props.descendingYears?o.unshift(q):o.push(q);}o.unshift(i.createElement(m,{title:g.YEAR_LABEL,value:0},g.YEAR_LABEL));var r=null;if(this.state.year||this.props.minTimeUnit!=='year'){var s=[i.createElement(m,{title:g.MONTH_LABEL,value:0},g.MONTH_LABEL)],t=1,u=g.MONTHS_PER_YEAR;if(this._isMinYear()){t=this._getMinMonth();}else if(this._isMaxYear())u=this._getMaxMonth();for(var v=t;v<=u;v++){var w=g.getMonthName(v);s.push(i.createElement(m,{title:w,value:v},w));}r=i.createElement(k,{className:"_5vu1","data-testid":"ProgressiveDatepicker/monthSelector",disabled:!this.state.year,maxheight:this.props.menuMaxHeight,name:this._getMonthName(),onChange:this._onMonthChange,value:this.state.month},s);}var x=null;if(this.state.month||this.props.minTimeUnit==='day'){var y=[i.createElement(m,{title:g.DAY_LABEL,value:0},g.DAY_LABEL)],z=1,aa=g.getDaysInMonth(this.state.year,this.state.month);if(this._isMinYearAndMonth()){z=this._getMinDay();}else if(this._isMaxYearAndMonth())aa=this._getMaxDay();for(var ba=z;ba<=aa;ba++)y.push(i.createElement(m,{title:ba,value:ba},ba));x=i.createElement(k,{className:"_5vu1","data-testid":"ProgressiveDatepicker/daySelector",disabled:!this.state.month,maxheight:this.props.menuMaxHeight,name:this._getDayName(),onChange:this._onDayChange,value:this.state.day},y);}return (i.createElement(j,null,i.createElement(k,{"data-testid":"ProgressiveDatepicker/yearSelector",maxheight:this.props.menuMaxHeight,name:this._getYearName(),onChange:this._onYearChange,value:this.state.year},o),r,x));}});e.exports=n;},null);
__d("TimeInputParser",[],function(a,b,c,d,e,f){var g='AM',h='PM';function i(m){var n=Math.floor(m/60),o;if(n!==0){o=Math.floor(n/60);n=n%60;}else o=0;if(o>24)return null;return {hours24:o,minutes:n,time:j(o,n),text12:k(o,n)};}function j(m,n){return ((m*60)+n)*60;}function k(m,n){if(n<10)n='0'+n;if(m===0){return '12:'+n+' '+g;}else if(m<12){return m+':'+n+' '+g;}else if(m===12){return '12:'+n+' '+h;}else return (m-12)+':'+n+' '+h;}var l={fromTime:i,toTime:j,toText12:k,AM:g,PM:h};e.exports=l;},null);
__d("XUITimeInputColumn.react",["Keys","React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){var k=/^\d+$/,l=1,m=h.createClass({displayName:"XUITimeInputColumn",propTypes:{name:h.PropTypes.string,value:h.PropTypes.number,min:h.PropTypes.number,max:h.PropTypes.number,size:h.PropTypes.number,options:h.PropTypes.array,onChangeValueAttempt:h.PropTypes.func,onBlur:h.PropTypes.func,onFocus:h.PropTypes.func},getInitialState:function(){return {focused:false,domID:this.props.id||('XUITimeInputColumn_'+(l++))};},render:function(){var n=this._getText(this.props.value),o=(("_5pw0")+(this.state.focused?' '+"_5pw1":''));return (h.createElement("div",{className:j(this.props.className,o)},h.createElement("div",{className:"_5pw5"},h.createElement("label",{htmlFor:this.state.domID,className:"_5pw6"},n),h.createElement("input",{role:"spinbutton","aria-valuetext":n,"aria-label":this.props['aria-label'],id:this.state.domID,tabIndex:this.props.tabIndex,ref:"input",value:"",onFocus:this._onFocus,onBlur:this._onBlur,onKeyDown:this._onKeyDown,onChange:this._onChange,className:"_5pw8"}))));},focusInput:function(){var n=this.refs.input.getDOMNode();try{n.focus();}catch(o){}this.setState({focused:true});if(this.props.onFocus)this.props.onFocus();},blurInput:function(){var n=this.refs.input.getDOMNode();try{n.blur();}catch(o){}this.setState({focused:false});if(this.props.onBlur)this.props.onBlur();},_onKeyDown:function(n){switch(n.keyCode){case g.TAB:if(n.shiftKey){this._onFocusPrevAttempt(n);}else this._onFocusNextAttempt(n);break;case g.LEFT:this._onFocusPrevAttempt(n);break;case g.UP:this._increaseValue(n);break;case g.RIGHT:this._onFocusNextAttempt(n);break;case g.DOWN:this._decreaseValue(n);break;}},_decreaseValue:function(n){var o=this.props,p=(o.value||0)-1;if(p<0&&o.options){p=o.options.length-1;}else if(p<o.min)p=o.max;this._changeValueAttempt(p);n.preventDefault();},_increaseValue:function(n){var o=this.props,p=(this.props.value||0)+1;if(o.options&&p>(o.options.length-1)){p=0;}else if(p>o.max)p=o.min;this._changeValueAttempt(p);n.preventDefault();},_onFocusPrevAttempt:function(event){if(this.props.onFocusPrevAttempt){event.preventDefault();this.props.onFocusPrevAttempt();}else if(event.nativeEvent.keyCode===g.LEFT)event.preventDefault();},_onFocusNextAttempt:function(event){if(this.props.onFocusNextAttempt){event.preventDefault();this.props.onFocusNextAttempt();}else if(event.nativeEvent.keyCode===g.RIGHT)event.preventDefault();},_onChange:function(n){var o=n.target.value,p=this.props,q=p.options;if(q){var r=o.toLowerCase();for(var s=0,t=q.length;s<t;s++){var u=String(q[s]).toLowerCase();if(u.indexOf(r)===0){this._changeValueAttempt(s);return;}}this._changeValueAttempt(this.props.value||0);}else if(k.test(o)){var v=this.props.value||0,w=parseInt(o,10);if(o.length===1){if(v===0){this._changeValueAttempt(w);return;}var x=parseInt(String(v)+o,10);if(x>p.max){if(w>=p.min)this._changeValueAttempt(w);return;}this._changeValueAttempt(x);}}},_onFocus:function(){this.setState({focused:true});if(this.props.onFocus)this.props.onFocus(this.props.name);},_onBlur:function(){this.setState({focused:false});if(this.props.onBlur)this.props.onBlur(this.props.name);},_changeValueAttempt:function(n){if(n!==this.props.value){var o=this.props.onChangeValueAttempt;if(o)o(this.props.name,n);}},_getText:function(n){if(n===null||n===(void 0))return '';var o=this.props;if(o.options){return o.options[n];}else{var p=String(n);if(o.size){var q=o.size-p.length;if(q>0)if(q===1){p='0'+p;}else p=(new Array(q)).join('0')+p;}return p;}}});e.exports=m;},null);
__d("XUITimeInput.react",["DateFormatConfig","React","TimeInputParser","UserAgent","XUITimeInputColumn.react","cx","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=(g.formats['g:ia']||'').indexOf('a')>=0,p=[i.AM,i.PM],q=i.toTime(12,0),r=60;function s(u,v){if(isNaN(u)){if(!v)return {};u=q;}var w=i.fromTime(u)||i.fromTime(q),x=w.hours24,y;if(x===0){y=12;}else if(x<=12){y=x;}else y=x-12;return {hours12:y,hours24:x,minutes:w.minutes,ampm:(x<12)?0:1,time:w.time};}var t=h.createClass({displayName:"XUITimeInput",propTypes:{time:h.PropTypes.number,minTime:h.PropTypes.number,maxTime:h.PropTypes.number,shouldSetDefaultTime:h.PropTypes.bool,onFocus:h.PropTypes.func,onBlur:h.PropTypes.func,onReady:h.PropTypes.func,onChangeValueAttempt:h.PropTypes.func},getDefaultProps:function(){return {shouldSetDefaultTime:true};},getInitialState:function(){return {focused:false};},_isValidTime:function(u){if(this.props.minTime&&u+r<this.props.minTime)return false;if(this.props.maxTime&&u-r>this.props.maxTime)return false;return true;},render:function(){var u=s(this.props.time,this.props.shouldSetDefaultTime),v,w;if(o){v=(h.createElement(k,{"aria-label":"AM\/PM",name:"ampm",ref:"ampm",className:"_5pw4",value:u.ampm,options:p,onFocus:this._onFocus,onBlur:this._onBlur,onChangeValueAttempt:this._onChangeValueAttempt,onFocusPrevAttempt:this._focusMinutes}));w=(h.createElement(k,{"aria-label":"hours",name:"hours12",ref:"hours",className:"_5pw2",value:u.hours12,min:0,max:12,onFocus:this._onFocus,onBlur:this._onBlur,onChangeValueAttempt:this._onChangeValueAttempt,onFocusNextAttempt:this._focusMinutes}));}else w=(h.createElement(k,{"aria-label":"hours",name:"hours24",ref:"hours",className:"_5pw2",value:u.hours24,min:0,max:23,onFocus:this._onFocus,onBlur:this._onBlur,onChangeValueAttempt:this._onChangeValueAttempt,onFocusNextAttempt:this._focusMinutes}));var x=(("_5pw9")+(this.state.focused?' '+"_5pwl":'')+(j.isBrowser('IE')?' '+"_15kn":''));return (h.createElement("div",h.__spread({},this.props,{className:n(this.props.className,x),dir:"ltr"}),w,h.createElement("span",{className:"_5pwa"},":"),h.createElement(k,{"aria-label":"minutes",name:"minutes",ref:"minutes",className:"_5pw3",value:u.minutes,size:2,min:0,max:59,onFocus:this._onFocus,onBlur:this._onBlur,onChangeValueAttempt:this._onChangeValueAttempt,onFocusPrevAttempt:this._focusHours,onFocusNextAttempt:o?this._focusAMPM:null}),v));},_onFocus:function(){this.setState({focused:true});this.props.onFocus&&this.props.onFocus();},_onBlur:function(){this.setState({focused:false});this.props.onBlur&&this.props.onBlur();},_onChangeValueAttempt:function(u,v){if(!this.props.onChangeValueAttempt)return;var w=s(this.props.time,true),x=w.hours24,y=w.hours12,z=w.minutes,aa=w.ampm;switch(u){case 'hours12':if((v===12&&y===11)||(v===11&&y===12))aa=aa?0:1;y=v;break;case 'hours24':x=v;break;case 'minutes':z=v;break;case 'ampm':aa=v;break;default:return;}if(o)if(aa===1){if(y===12){x=12;}else x=y+12;}else if(y===12){x=0;}else x=y;var ba=i.toTime(x,z);if(this._isValidTime(ba))this.props.onChangeValueAttempt(ba);},_focusHours:function(){this.refs.hours.focusInput();},_focusMinutes:function(){this.refs.minutes.focusInput();},_focusAMPM:function(){this.refs.ampm.focusInput();}});e.exports=t;},null);
__d("XUIDateTimePicker.react",["React","XUIDatePicker.react","XUIDateTimePickerUtils","XUIError.react","XUITimeInput.react","cx","formatDate","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=g.createClass({displayName:"XUIDateTimePicker",propTypes:Object.assign({className:g.PropTypes.string,date:g.PropTypes.instanceOf(Date),datePlaceholder:g.PropTypes.string,dateRestraints:g.PropTypes.array,maxTime:g.PropTypes.number,minTime:g.PropTypes.number,name:g.PropTypes.string,onCalendarChange:g.PropTypes.func,onChange:g.PropTypes.func,onTimeBlur:g.PropTypes.func,readOnly:g.PropTypes.bool,timezone:g.PropTypes.string,timezoneOffsetHours:g.PropTypes.number,dateFormat:g.PropTypes.string,datePickerBehaviors:g.PropTypes.object},j.propTypes),getDefaultProps:function(){return {dateFormat:'m/d/Y g:ia'};},render:function(){var p=this.props.className,q=this.props.date,r;if(q)r=i.getOffsetUIDate(q,this.props.timezoneOffsetHours);var s=this.props.timezone&&(g.createElement("div",{className:"fss fcg _4z_j"},this.props.timezone));if(this.props.readOnly){var t=r?m(r,this.props.dateFormat,{utc:true}):this.props.datePlaceholder;return (g.createElement("div",{className:n("_5qcu",p)},g.createElement("div",null,t),s));}else{var u;if(r)u=i.getSecondsSinceMidnightUTC(r);return (g.createElement("div",{className:n("_5qcv",p)},g.createElement(j,g.__spread({},this.props),g.createElement("div",{className:"_1jlr"},g.createElement(h,{className:"_5qcw",dateRestraints:this.props.dateRestraints,initialTime:r?r.getTime():null,placeholder:this.props.datePlaceholder,shouldSetDefaultDate:false,onCalendarSelectDateChange:this._onDateChange,behaviors:this.props.datePickerBehaviors}),g.createElement(k,{className:"_5qcx",minTime:this.props.minTime,maxTime:this.props.maxTime,onBlur:this._onTimeBlur,onChangeValueAttempt:this._onTimeChange,shouldSetDefaultTime:false,time:u}))),s,this._renderHiddenInput()));}},_renderHiddenInput:function(){if(this.props.name!==(void 0))return (g.createElement("input",{type:"hidden",name:this.props.name,value:this.props.date.getTime()}));},_onDateChange:function(p){var q=this.props.date;if(!q){q=new Date();q.setHours(0,0,0,0);}var r=i.getActualDateFromOffsetUICanonicalDate(p,q,this.props.timezoneOffsetHours);this.props.onChange&&this.props.onChange(r);this.props.onCalendarChange&&this.props.onCalendarChange(r);},_onTimeBlur:function(){this.props.onTimeBlur&&this.props.onTimeBlur(this.props.date);},_onTimeChange:function(p){this.props.onChange&&this.props.onChange(i.getActualDateFromOffsetUISeconds(p,this.props.date||new Date(),this.props.timezoneOffsetHours));}});e.exports=o;},null);
__d("PlacesCitySharerX",["Arbiter","ArbiterMixin","AsyncRequest","CSS","DOM","Event","Parent","csx","cx","fbt","mixin"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r={},s=q(h);for(var t in s)if(s.hasOwnProperty(t))v[t]=s[t];var u=s===null?null:s.prototype;v.prototype=Object.create(u);v.prototype.constructor=v;v.__superConstructor__=s;function v(w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha){"use strict";this._root=w;this.setShareSetting(fa);this.init(x,y,z,aa,ba,ga);if(da)this.setDefaultCity(ca,da,ea);if(this._shareDefaultCity)this.useDefaultCity();if(ha)this.toggleSelect();}v.prototype.init=function(w,x,y,z,aa,ba){"use strict";this._cityLink=w;this._closeButton=x;this._input=y;this._disableShareInput=z;this._options=aa;this._targetId=ba||0;this._cityName=k.find(this._cityLink,"._y8");this._data={};this._resetTempInfo();l.listen(this._closeButton,'click',function(){this._resetTempInfo();this._defaultCityData={};this.clearCity();this._disableShareInput.value='true';}.bind(this));r[this._root]=this;this.inform('init',null,g.BEHAVIOR_PERSISTENT);};v.prototype.toggleSelect=function(){"use strict";this._placeSelected=true;j.addClass(this._cityLink,"_1dsf");j.hide(this._closeButton);};v.prototype.addPlace=function(w){"use strict";this.toggleSelect();this._resetTempInfo();};v.prototype.changeCity=function(w,x,y){"use strict";this.setCity(w,x,y);this.toggleLocationSharing(w,x,y,false);};v.prototype.clearCity=function(){"use strict";this._data={};this._input.value='';k.empty(this._cityName);this._cityLink.setAttribute('aria-label',"Add a location to post");j.removeClass(this._root,"_y7");j.hide(this._closeButton);j.removeClass(this._cityLink,"_1dsf");this.inform('change',null,g.BEHAVIOR_PERSISTENT);};v.prototype.clearPlace=function(){"use strict";this._placeSelected=false;j.removeClass(this._cityLink,"_1dsf");j.conditionShow(this._closeButton,this.getValue());this.setDefaultCity(this._data.city_name,this._data.city_page_id,this._data.city_id);};v.prototype.getIcon=function(){"use strict";return this._root;};v.prototype.getValue=function(){"use strict";return this._input.value;};v.prototype.restoreCityInfo=function(){"use strict";if(this._placeSelected||this._shareDefaultCity){this.changeCity(this._tempCityName,this._tempCityPid,this._tempCityId);this._resetTempInfo();}};v.prototype.saveCityInfo=function(){"use strict";if(this._defaultCityData){this._tempCityName=this._defaultCityData.city_name;this._tempCityPid=this._defaultCityData.city_page_id;this._tempCityId=this._defaultCityData.city_id;}};v.prototype.setCity=function(w,x,y){"use strict";if(x){this.setCityData(w,x,y);this._input.value=x;this.inform('change',this._data,g.BEHAVIOR_PERSISTENT);}};v.prototype.setCityData=function(w,x,y){"use strict";if(x){this._data={city_name:w,city_page_id:x,city_id:y};var z=w.lastIndexOf(',');if(z!=-1)w=w.substring(0,z);var aa;if(w){aa=p._("Currently in {city-name}. Add a location to post",[p.param("city-name",w)]);}else aa="Add a location to post";k.setContent(this._cityName,w);this._cityLink.setAttribute('aria-label',aa);j.addClass(this._root,"_y7");j.conditionShow(this._closeButton,!this._placeSelected);}};v.prototype.setDefaultCity=function(w,x,y){"use strict";this._defaultCityData={city_id:y,city_page_id:x,city_name:w};};v.prototype.setSessionID=function(w){"use strict";this._options.session_id=w;};v.prototype.setShareSetting=function(w){"use strict";this._shareDefaultCity=w;};v.prototype.toggleLocationSharing=function(w,x,y,z){"use strict";if(x)new i().setURI('/ajax/places/toggle_location_sharing').setData({city_id:y,city_page_id:x,city_name:w,is_default:z,session_id:this._options.session_id}).send();};v.prototype.useDefaultCity=function(){"use strict";if(this._defaultCityData){this.setCity(this._defaultCityData.city_name,this._defaultCityData.city_page_id,this._defaultCityData.city_id);j.show(this._closeButton);this.toggleLocationSharing(this._defaultCityData.city_name,this._defaultCityData.city_page_id,this._defaultCityData.city_id,true);}};v.prototype._resetTempInfo=function(){"use strict";this._tempCityName=null;this._tempCityPid=null;this._tempCityId=null;};v.getInstance=function(w){"use strict";var x=m.byClass(w,'ComposerCitySharer');return x&&r[x];};v.prototype.getTargetID=function(){"use strict";return this._targetId;};e.exports=v;},null);
__d("ComposerXCitySharerReset",["AsyncRequest"],function(a,b,c,d,e,f,g){function h(j){var k=j.instance.getTargetID();if(k!==0&&j.instance.getValue()!=="")k=0;j.instance.clearCity();new g().setURI('/ajax/places/city_sharer_reset.php').setData({target_id:k}).setHandler(function(l){i(j,l.getPayload());}).send();}function i(j,k){j.instance.setShareSetting(k.sharedefault);j.instance.setSessionID((new Date()).valueOf().toString().substr(0,10));if(k.citypageid)j.instance.setDefaultCity(k.citystring,k.citypageid,k.cityid);if(k.sharedefault)j.instance.useDefaultCity();}e.exports=h;},null);
__d("PostActionsHiddenInputsUpdater",["$","DOM","Event"],function(a,b,c,d,e,f,g,h,i){var j={updateScheduleHiddenInputs:function(k,l){var m=g('pabhiddeninputs');this._clearParams(m);var n=h.find(m,'input[name="future_date"]'),o=h.find(m,'input[name="future_time"]'),p=h.find(m,'input[name="scheduled"]');n.value=k;o.value=l;p.value=true;},updateBackdateHiddenInputs:function(k,l,m,n){var o=g('pabhiddeninputs');this._clearParams(o);var p=h.find(o,'input[name="backdated_date[year]"]'),q=h.find(o,'input[name="backdated_date[month]"]'),r=h.find(o,'input[name="backdated_date[day]"]'),s=h.find(o,'input[name="hide_from_newsfeed"]');p.value=k;q.value=l;r.value=m;s.value=n;},_clearParams:function(k){for(var l=0;l<k.children.length;l++)k.children[l].value='';},_setBackdateParams:function(k){var l=k.getRoot(),m=h.find(l,'input[name="year"]').value,n=h.find(l,'input[name="hide"]'),o=h.scry(l,'input[name="month"]'),p=h.scry(l,'input[name="day"]');o=o.length&&o[0].value!==null&&o[0].value!=="0"?o[0].value:null;p=p.length&&p[0].value!==null&&p[0].value!=="0"?p[0].value:null;var q=g('pabhiddeninputs');this._clearParams(q);var r=h.find(q,'input[name="backdated_date[year]"]'),s=h.find(q,'input[name="backdated_date[month]"]'),t=h.find(q,'input[name="backdated_date[day]"]'),u=h.find(q,'input[name="hide_from_newsfeed"]');r.value=m;s.value=o;t.value=p;u.value=n.checked;}};e.exports=j;},null);
__d("PostBackdateDialog.react",["Arbiter","InputLabel.react","PostActionsHiddenInputsUpdater","React","ReactLayeredComponentMixin","XUICheckboxInput.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIDialogButton.react","XUIGrayText.react","XUIProgressiveDatepicker.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){var v=250,w=j.createClass({displayName:"PostBackdateDialog",mixins:[k],propTypes:{minTime:j.PropTypes.number.isRequired,maxTime:j.PropTypes.number.isRequired,onSubmit:j.PropTypes.func.isRequired},getInitialState:function(){return {shown:false,hideFromNewsFeed:false,year:null,month:null,day:null};},render:function(){return (j.createElement("div",null));},renderLayers:function(){return (j.createElement(m,{width:343,shown:this.state.shown},j.createElement(p,null,"Backdate Post"),j.createElement(n,null,j.createElement("div",{className:"_5pk"},j.createElement(r,{shade:"light",size:"small",display:"block"},"Backdate your post so it appears in the past on your Page Timeline. Backdated posts publish immediately."),j.createElement("div",{className:"_3-8x"},j.createElement(s,{className:"_3-8x",maxTime:this.props.maxTime,menuMaxHeight:v,minTime:this.props.minTime,onDateChange:this._onDateChange})),j.createElement(h,{className:"_3-8x"},j.createElement(l,{checked:this.state.hideFromNewsFeed,onChange:this._hideFromNewsFeedChanged}),j.createElement("label",null,j.createElement(r,{shade:"light",size:"small",weight:"normal"},"Hide from News Feed"))))),j.createElement(o,null,j.createElement(q,{action:"cancel",label:"Cancel",onClick:this._onCancelClick}),j.createElement(q,{action:"confirm",disabled:!this.state.year||!this.state.month||!this.state.day,label:"Backdate",onClick:this._onSubmitClick,use:"confirm"}))));},show:function(){this.setState({shown:true});},_onCancelClick:function(){g.inform('PAB/defaultToPost');},_onSubmitClick:function(){i.updateBackdateHiddenInputs(this.state.year,this.state.month,this.state.day,this.state.hideFromNewsFeed);this.props.onSubmit();this.setState({shown:false});},_onDateChange:function(x){this.setState({year:x.year,month:x.month,day:x.day});},_hideFromNewsFeedChanged:function(event){this.setState({hideFromNewsFeed:event.target.checked});}});e.exports=w;},null);
__d("PostScheduleDialog.react",["DatePickerRestraints","React","ReactLayeredComponentMixin","XUIDateTimePicker.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIDialogButton.react","XUIGrayText.react","XUINotice.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){var t=60*1000,u=24*60*60*1000,v=30,w=h.createClass({displayName:"PostScheduleDialog",mixins:[i],propTypes:{isReschedule:h.PropTypes.bool,timezoneStr:h.PropTypes.string.isRequired,onSubmit:h.PropTypes.func.isRequired},getInitialState:function(){return {shown:false,date:new Date(Date.now()+11*t)};},show:function(){this.setState({shown:true});},renderLayers:function(){var x=new Date(Date.now()-u),y=new Date(Date.now()+6*v*u),z=this.state.date.getTime(),aa=this._isSelectedTimeValid(z),ba=this.props.isReschedule?"Reschedule Post":"Schedule Post",ca=this.props.isReschedule?"Reschedule":"Schedule";return (h.createElement(k,{shown:this.state.shown,width:343},h.createElement(n,null,ba),h.createElement(l,{className:"_hg8"},h.createElement(p,{shade:"light",size:"small",display:"block"},"Select a date and time in the future for when you want your post to publish."),h.createElement(j,{dateRestraints:[g.enforceDateIsNoEarlierThan(x),g.enforceDateIsNoLaterThan(y)],className:"_3-8x",date:this.state.date,onChange:this._onChange,timezone:this.props.timezoneStr}),h.createElement(q,{use:"warn",className:(("_3-8x")+(aa?' '+"hidden_elem":''))},"Scheduled posts need to be shared between 10 minutes and 6 months from when you create them.")),h.createElement(m,null,h.createElement(o,{action:"cancel",label:"Cancel"}),h.createElement(o,{action:"confirm",label:ca,onClick:this._onSubmitClick,disabled:!aa,use:"confirm"}))));},render:function(){return (h.createElement("div",null));},_onChange:function(x){this.setState({date:x});},_onSubmitClick:function(){this.props.onSubmit(this.state.date);this.setState({shown:false});},_isSelectedTimeValid:function(x){var y=Date.now()+10*t,z=Date.now()+6*v*u;return x>y&&x<z;}});e.exports=w;},null);
__d("ComposerXPostActionDropDownV2",["Arbiter","AsyncRequest","Button","CSS","cx","DOM","Event","PagesBanzaiLogger","PostActionsHiddenInputsUpdater","PostBackdateDialog.react","PostScheduleDialog.react","React","PromotedPostConstants","formatDate"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){function u(v,w,x,y,z,aa){"use strict";this.menuInstance=v;this.postButton=w;this.postActionsButton=x;this.pageID=y.page_id;this.defaultAction=y.default_action;this.scheduleDialogPlaceholder=z;this.backdateDialogPlaceholder=aa;this.timezone_str=y.timezone_str;this.minBackdateTime=y.min_backdate_time;this.boostButton=this.$ComposerXPostActionDropDownV20();this.menuInstance.subscribe('itemclick',function(ba,ca){switch(ca.item.getValue()){case 'draft':this.$ComposerXPostActionDropDownV22();break;case 'schedule':this.$ComposerXPostActionDropDownV23();break;case 'backdate':this.$ComposerXPostActionDropDownV24();break;case 'post':this.$ComposerXPostActionDropDownV25();break;}}.bind(this));m.listen(this.postActionsButton,'click',function(){this.$ComposerXPostActionDropDownV26('pab_dropdown_click');}.bind(this));this.scheduleAnother=g.subscribe('composer/schedule_another',function(ba){this.$ComposerXPostActionDropDownV23();this.scheduleAnother.unsubscribe();this.scheduleAnother=null;}.bind(this));if(y.should_show_nux){g.inform('composer/reset_pab_nux');this.$ComposerXPostActionDropDownV27();this.renderNuxSubscription=g.subscribe('composer/render_pab_nux',function(ba){if(!y.nux_uri)return;new h().setURI(y.nux_uri).send();this.renderNuxSubscription.unsubscribe();this.renderNuxSubscription=null;}.bind(this));}g.subscribe('AsyncRequest/error',function(ba,ca){if(ca.request&&ca.request.relativeTo===this.postButton.form)this.$ComposerXPostActionDropDownV28(true);}.bind(this));g.subscribe(['composer/reset'],function(ba){if(this.hiddenInputsInstance)this.hiddenInputsInstance.afterSubmitPost(this.pageID);this.$ComposerXPostActionDropDownV28(true);}.bind(this));}u.prototype.initHiddenInputs=function(v){"use strict";this.hiddenInputsInstance=v;if(this.defaultAction==='save')this.hiddenInputsInstance.setDraftInputs();};u.prototype.$ComposerXPostActionDropDownV27=function(){"use strict";var v=l.scry(document,'#pab_nux_moved_indicator')[0],w=l.scry(document,'#pab_nux_click_to_finish')[0];if(v)v.removeAttribute('id');if(w)w.removeAttribute('id');this.postActionsButton.setAttribute('id','pab_nux_moved_indicator');this.postButton.setAttribute('id','pab_nux_click_to_finish');};u.prototype.$ComposerXPostActionDropDownV28=function(v){"use strict";if(this.hiddenInputsInstance)this.hiddenInputsInstance.resetInputs();this.$ComposerXPostActionDropDownV29();};u.prototype.$ComposerXPostActionDropDownV25=function(){"use strict";this.$ComposerXPostActionDropDownV28();this.$ComposerXPostActionDropDownV26('pab_post_selected');this.postButton.click();this.menuInstance.done();};u.prototype.$ComposerXPostActionDropDownV23=function(){"use strict";this.$ComposerXPostActionDropDownV26('pab_schedule_selected');var v=r.createElement(q,{timezoneStr:this.timezone_str,onSubmit:function(w){var x=t(w,'m/d/Y',{skipPatternLocalization:true}),y=(w.getHours()*60+w.getMinutes())*60;o.updateScheduleHiddenInputs(x,y);this.postButton.click();}.bind(this)});v=r.render(v,this.scheduleDialogPlaceholder);v.show();this.menuInstance.done();};u.prototype.$ComposerXPostActionDropDownV22=function(){"use strict";this.$ComposerXPostActionDropDownV28();this.$ComposerXPostActionDropDownV26('pab_draft_selected');this.$ComposerXPostActionDropDownV2a();this.hiddenInputsInstance.setDraftInputs();this.menuInstance.done();this.postButton.click();};u.prototype.$ComposerXPostActionDropDownV24=function(){"use strict";this.$ComposerXPostActionDropDownV26('pab_backdate_selected');var v=r.createElement(p,{maxTime:Date.now()/1000,minTime:this.minBackdateTime,onSubmit:this.postButton.click.bind(this.postButton)});v=r.render(v,this.backdateDialogPlaceholder);v.show();this.menuInstance.done();};u.prototype.$ComposerXPostActionDropDownV26=function(v){"use strict";var w={page_id:this.pageID,event_name:v};n.logData(w,n.VITAL_WAIT);};u.prototype.$ComposerXPostActionDropDownV20=function(){"use strict";var v=l.scry(document,'div.fbBoostedPost')[0];if(!v)return null;return l.scry(v,'button.'+"_4dyi")[0];};u.prototype.$ComposerXPostActionDropDownV29=function(){"use strict";if(!this.boostButton)return;i.setEnabled(this.boostButton,true);j.removeClass(this.boostButton,"_ho3");};u.prototype.$ComposerXPostActionDropDownV2a=function(){"use strict";if(!this.boostButton)return;i.setEnabled(this.boostButton,false);j.addClass(this.boostButton,"_ho3");g.inform(s.CLEAR_COMPOSER_BOOST);};e.exports=u;},null);
__d("XUnpublishedPostSuccessController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("\/pages\/unpublished_posts\/post_success\/",{type:{type:"String",required:true}});},null);
__d("PostActionsHiddenInputs",["ActorURI","AsyncRequest","XUnpublishedPostSuccessController"],function(a,b,c,d,e,f,g,h,i){function j(k,l,m,n,o,p,q,r){"use strict";this.dateInput=k;this.timeInput=l;this.schedulingInput=m;this.draftInput=n;this.backdateYearInput=o;this.backdateMonthInput=p;this.backdateDayInput=q;this.hideFromNewsFeedInput=r;}j.prototype.updateInputs=function(k){"use strict";switch(k.element){case 'dateinput':this.dateInput.value=k.value;this.schedulingInput.value=true;break;case 'timeinput':this.timeInput.value=k.value;this.schedulingInput.value=true;break;case 'backdater':this.setBackdateInputs(k);break;case 'hidefromnewsfeed':this.setHideFromNewsfeed(k);break;default:break;}};j.prototype.setScheduleInputs=function(k){"use strict";if(this.schedulingInput){this.schedulingInput.value=true;this.dateInput.value=k.date;this.timeInput.value=k.time;}};j.prototype.setDraftInputs=function(){"use strict";if(this.draftInput)this.draftInput.value=true;};j.prototype.setBackdateInputs=function(k){"use strict";if(this.backdateYearInput){this.backdateYearInput.value=k.value.year||null;this.backdateMonthInput.value=k.value.month||null;this.backdateDayInput.value=k.value.day||null;}};j.prototype.setHideFromNewsfeed=function(k){"use strict";this.hideFromNewsFeedInput.value=k.value;};j.prototype.resetInputs=function(){"use strict";if(this.schedulingInput){this.dateInput.value='';this.timeInput.value='';this.schedulingInput.value='';}if(this.backdateYearInput){this.backdateYearInput.value=null;this.backdateMonthInput.value=null;this.backdateDayInput.value=null;this.hideFromNewsFeedInput.value='';}if(this.draftInput)this.draftInput.value='';};j.prototype.afterSubmitPost=function(k){"use strict";if(this.schedulingInput&&this.schedulingInput.value||this.draftInput&&this.draftInput.value){var l=this.schedulingInput&&this.schedulingInput.value?'scheduled':'draft',m=i.getURIBuilder().setString('type',l).getURI();m=g.create(m,k);new h().setURI(m).send();}};e.exports=j;},null);
__d("ComposerXPagesTargetingIconReset",["CSS","cx"],function(a,b,c,d,e,f,g,h){function i(j){g.removeClass(j.element,"selected");g.removeClass(j.element,"_509o");}e.exports=i;},null);
__d("ShareAttachmentDescriptionEllipsis",["DOMDimensions","LitestandEllipsis","Style"],function(a,b,c,d,e,f,g,h,i){var j={add:function(k,l,m){var n=g.getElementDimensions(l).height,o=i.getFloat(k,'marginTop'),p=k.parentElement.clientHeight-n-o;if(m)p-=(i.getFloat(m,'marginTop')+g.getElementDimensions(m).height);h.add(k,p);}};e.exports=j;},null);
__d("ServerRedirect",["goURI"],function(a,b,c,d,e,f,g){var h={redirectPageTo:g,reloadPage:function(){window.location.reload();}};e.exports=h;},null);
__d("XPageLHSUnitsReorderingController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("\/pages\/lhs\/reorder\/",{page_id:{type:"Int",required:true},visible_units:{type:"IntVector",required:true},__asyncDialog:{type:"Int"}});},null);
__d("PagesSideUnitsOrderCreator",["AsyncRequest","DOM","XPageLHSUnitsReorderingController","csx"],function(a,b,c,d,e,f,g,h,i,j){var k={registerMenuItem:function(l,m,n){l.subscribe('itemclick',function(o,p){if(p&&p.item&&p.item.getValue()===m){var q="._57dz div[data-id]",r=h.scry(document.body,q),s=[];for(var t=0,u=r.length;t<u;t++)s.push(r[t].getAttribute('data-id'));if(r){var v=i.getURIBuilder().setInt('page_id',n).setIntVector('visible_units',s).getURI();new g(v).send();}}});}};e.exports=k;},null);
__d("XFamilyTagCoverPicSaveController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("\/family\/cover\/save\/",{profile_id:{type:"Int",required:true},cover_instance:{type:"String",required:true},photo_id:{type:"Int"},offset_x:{type:"Int"},offset_y:{type:"Int"}});},null);
__d("XCoverPicSaveController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("\/profile\/cover\/save\/",{profile_id:{type:"Int",required:true},cover_instance:{type:"String",required:true},photo_id:{type:"Int"},offset_x:{type:"Int"},offset_y:{type:"Int"}});},null);
__d("ProfileCover",["ActorURI","AsyncRequest","Button","CSS","DOM","ServerRedirect","TimelineDrag","XFamilyTagCoverPicSaveController","XCoverPicSaveController","csx","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r={},s={};function t(u,v,w,x,y){"use strict";this.root=u;this.cover=v;this.profileID=x;this.editControls=w;this.newCoverPhoto=null;this.newCoverPhotoFBID=null;this.$ProfileCover0=k.getID(v);r[this.$ProfileCover0]=this;this.editControls.subscribe('save',function(){var z=this.editControls.getInput().value;i.setEnabled(this.editControls.getSaveButton(),false);i.setEnabled(this.editControls.getCancelButton(),false);var aa=k.find(this.newCoverPhoto,"img._xlg"),ba=t.isCoverImageVertical(aa)?'offset_y':'offset_x',ca=o.getURIBuilder();if(y)ca=n.getURIBuilder();ca=g.create(ca.setString('cover_instance',this.$ProfileCover0).setInt('profile_id',this.profileID).setInt('photo_id',this.newCoverPhotoFBID).setInt(ba,z).getURI(),this.profileID);new h(ca).setMethod('POST').setStatusElement(k.getID(this.root)).setHandler(function(){i.setEnabled(this.editControls.getSaveButton(),true);i.setEnabled(this.editControls.getCancelButton(),true);this.endPositioning();var da=j.hasClass(this.root,"_5e18");if(da){j.removeClass(this.root,"_5e18");l.reloadPage();}}.bind(this)).send();}.bind(this));this.editControls.subscribe('cancel',function(){i.setEnabled(this.editControls.getSaveButton(),true);i.setEnabled(this.editControls.getCancelButton(),true);this.dragger.destroy();this.dragger=null;k.remove(this.newCoverPhoto);this.newCoverPhoto=null;this.newCoverPhotoFBID=null;this.$ProfileCover1(false);}.bind(this));if(s[this.$ProfileCover0]){s[this.$ProfileCover0](this);s[this.$ProfileCover0]=null;}}t.prototype.getRoot=function(){"use strict";return this.root;};t.prototype.setPhotoToPosition=function(u,v){"use strict";this.$ProfileCover1(true);k.insertAfter(this.cover,u);var w=k.find(u,"img._xlg");this.newCoverPhoto=u;this.newCoverPhotoFBID=v;this.dragger=new m(w,this.editControls.getInput(),{width:851,height:315,vertical:t.isCoverImageVertical(w),killClicks:true,listenOn:u});};t.prototype.remove=function(){"use strict";l.reloadPage();};t.prototype.error=function(u){"use strict";u.show();};t.prototype.endPositioning=function(){"use strict";if(this.dragger){this.dragger.destroy();this.dragger=null;k.remove(this.cover);this.cover=this.newCoverPhoto;this.newCoverPhoto=null;this.newCoverPhotoFBID=null;this.$ProfileCover1(false);}};t.prototype.$ProfileCover1=function(u){"use strict";var v=u?j.addClass:j.removeClass;v(this.root,"_xlf");};t.addPhotoToPosition=function(u,v,w){"use strict";t.getInstance(u).setPhotoToPosition(v,w);};t.finishPositioning=function(u){"use strict";t.getInstance(u).endPositioning();};t.removeCover=function(u){"use strict";t.getInstance(u).remove();};t.isCoverImageVertical=function(u){"use strict";return !(u.style.height);};t.getInstance=function(u){"use strict";return r[u];};t.waitForInstance=function(u,v){"use strict";if(r[u]){v(r[u]);}else s[u]=v;};t.resetInstance=function(u){"use strict";r[u].reset();};t.uploadError=function(u,v){"use strict";r[u].error(v);};e.exports=t;},null);