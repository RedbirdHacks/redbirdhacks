/*!CK:3016578369!*//*1418062671,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["CWXZo"]); }

__d("SemiInlineSuggestion",["$","Arbiter","csx","CSS","DOM","Event","HighConfidenceSuggestionLogger","SuggestionLoggingUserActions"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){function o(p){"use strict";this.$SemiInlineSuggestion0=p;this.$SemiInlineSuggestion1=null;this.$SemiInlineSuggestion2=true;this.$SemiInlineSuggestion3=false;this.$SemiInlineSuggestion4();}o.prototype.$SemiInlineSuggestion4=function(){"use strict";h.subscribe('semiinline/DOMReady',function(){return this.$SemiInlineSuggestion5();}.bind(this));h.subscribe('topictargeting/link_scraped',function(){return this.$SemiInlineSuggestion6();}.bind(this));h.subscribe('showOGTagger',function(){return this.$SemiInlineSuggestion7();}.bind(this));};o.prototype.$SemiInlineSuggestion5=function(){"use strict";if(!this.$SemiInlineSuggestion1)return;this.$SemiInlineSuggestion8=g('bootloadSemiinlineRoot');j.show(this.$SemiInlineSuggestion8);m.log(n.IMPRESSION,this.$SemiInlineSuggestion9,this.$SemiInlineSuggestion1,this.$SemiInlineSuggestion0);this.$SemiInlineSuggestiona(this.$SemiInlineSuggestion8);this.$SemiInlineSuggestion3=true;};o.prototype.$SemiInlineSuggestion6=function(){"use strict";if(this.$SemiInlineSuggestion3){this.$SemiInlineSuggestionb();}else h.subscribe('semiinline/DOMReady',function(){return this.$SemiInlineSuggestionb();}.bind(this));};o.prototype.$SemiInlineSuggestionb=function(){"use strict";this.$SemiInlineSuggestionc=g('linkscrapeSemiinlineRoot');var p=k.scry(this.$SemiInlineSuggestionc,'#linkscrapeSuggestionPlaceholder'),q=k.scry(g('bootloadSemiinlineRoot'),'#semiinline_suggestion_placeholder');if(p&&p.length>0&&q&&q.length>0)k.replace(p[0],q[0].cloneNode(true));j.show(this.$SemiInlineSuggestionc);this.$SemiInlineSuggestiona(this.$SemiInlineSuggestionc);};o.prototype.$SemiInlineSuggestiona=function(p){"use strict";var q=k.scry(p,"._1ljz")[0],r=k.scry(p,"._1lj-")[0];if(q)l.listen(q,'click',function(){m.log(n.XOUT,this.$SemiInlineSuggestion9,this.$SemiInlineSuggestion1,this.$SemiInlineSuggestion0);this.$SemiInlineSuggestion7();}.bind(this));if(r)l.listen(r,'click',function(){this.$SemiInlineSuggestiond();m.log(n.ADD,this.$SemiInlineSuggestion9,this.$SemiInlineSuggestion1,this.$SemiInlineSuggestion0);}.bind(this));};o.prototype.update=function(p){"use strict";if(p&&p[0]){this.$SemiInlineSuggestion1=p[0];}else{this.$SemiInlineSuggestion1=null;this.$SemiInlineSuggestion7();}};o.prototype.isShown=function(){"use strict";return !!this.$SemiInlineSuggestion1;};o.prototype.isActive=function(){"use strict";return this.$SemiInlineSuggestion2;};o.prototype.$SemiInlineSuggestion7=function(){"use strict";if(this.$SemiInlineSuggestion1){this.$SemiInlineSuggestion1=null;if(this.$SemiInlineSuggestionc)j.hide(this.$SemiInlineSuggestionc);if(this.$SemiInlineSuggestion8)j.hide(this.$SemiInlineSuggestion8);this.$SemiInlineSuggestion2=false;}};o.prototype.$SemiInlineSuggestiond=function(){"use strict";if(this.$SemiInlineSuggestion1){var p={};p.type='page';p.uid=this.$SemiInlineSuggestion1.blob.objectid;p.at_id=this.$SemiInlineSuggestion1.blob.actiontypeid;p.suggestion_mechanism=this.$SemiInlineSuggestion1.mechanism;var q={};q.config=this.$SemiInlineSuggestion9;q.suggestion=this.$SemiInlineSuggestion1;q.csid=this.$SemiInlineSuggestion0;p.suggestion_config=q;h.inform('structuredSuggestion/add',p);if(this.$SemiInlineSuggestionc)j.hide(this.$SemiInlineSuggestionc);if(this.$SemiInlineSuggestion8)j.hide(this.$SemiInlineSuggestion8);}};o.prototype.setConfigNameForLogging=function(p){"use strict";this.$SemiInlineSuggestion9=p;};o.prototype.getDisplayingSuggestion=function(){"use strict";return this.$SemiInlineSuggestion1;};e.exports=o;},null);